{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":39,"index":109}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":110},"end":{"line":3,"column":102,"index":212}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _env2 = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[2], \"@react-native-async-storage/async-storage\"));\n  var _expoConstants = _interopRequireDefault(require(_dependencyMap[3], \"expo-constants\"));\n  var _react = _interopRequireWildcard(require(_dependencyMap[4], \"react\"));\n  var _jsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/workspaces/Health-Tracker/frontend/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // Types\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  // Create context\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // API Base URL\n  const API_BASE_URL = _expoConstants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _env2.env.EXPO_PUBLIC_BACKEND_URL;\n  function ensureBaseUrl() {\n    if (!API_BASE_URL) {\n      throw new Error('BACKEND URL no configurado. Define EXPO_PUBLIC_BACKEND_URL en app config/env.');\n    }\n    return API_BASE_URL.replace(/\\/$/, '');\n  }\n  async function safeParseJSON(response) {\n    const contentType = response.headers.get('content-type') || '';\n    const text = await response.text();\n    if (!contentType.includes('application/json')) {\n      // Intentar detectar HTML dev server / error proxy\n      if (text.trim().startsWith('<!DOCTYPE') || text.trim().startsWith('<html')) {\n        throw new Error('El servidor devolvió HTML en lugar de JSON. Revisa la URL del backend o CORS.');\n      }\n      // Intento final: tratar de parsear aunque no haya content-type adecuado\n      try {\n        return JSON.parse(text);\n      } catch {\n        throw new Error('Respuesta no es JSON válido.');\n      }\n    }\n    try {\n      return JSON.parse(text);\n    } catch {\n      throw new Error('No se pudo parsear JSON (posible HTML o error de servidor).');\n    }\n  }\n\n  // Auth Provider Component\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const logout = (0, _react.useCallback)(async () => {\n      try {\n        await _asyncStorage.default.removeItem('auth_token');\n        await _asyncStorage.default.removeItem('user_data');\n      } catch (error) {\n        console.error('Error clearing storage:', error);\n      }\n      setToken(null);\n      setUser(null);\n    }, []);\n    const verifyToken = (0, _react.useCallback)(async authToken => {\n      try {\n        const base = ensureBaseUrl();\n        const response = await fetch(`${base}/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Token invalid');\n        }\n        const userData = await safeParseJSON(response);\n        setUser(userData);\n      } catch (error) {\n        console.error('Token verification failed:', error);\n        await logout();\n      }\n    }, [logout]);\n    const loadStoredAuth = (0, _react.useCallback)(async () => {\n      try {\n        const storedToken = await _asyncStorage.default.getItem('auth_token');\n        const storedUser = await _asyncStorage.default.getItem('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n\n          // Verify token is still valid\n          await verifyToken(storedToken);\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n        await logout();\n      } finally {\n        setLoading(false);\n      }\n    }, [verifyToken, logout]);\n\n    // Load stored auth data on app start\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, [loadStoredAuth]);\n\n    // (verifyToken ya definido arriba con useCallback)\n\n    const login = async (email, password) => {\n      try {\n        const base = ensureBaseUrl();\n        // El backend actual espera username/password en /auth/login\n        const response = await fetch(`${base}/auth/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: email,\n            password\n          })\n        });\n        let data;\n        try {\n          data = await safeParseJSON(response);\n        } catch (parseErr) {\n          throw new Error(parseErr.message || 'Error parseando respuesta');\n        }\n        if (!response.ok) {\n          throw new Error(data?.detail || 'Error al iniciar sesión');\n        }\n\n        // El backend no devuelve user, así que lo sintetizamos\n        const synthesizedUser = {\n          id: data.user?.id || email,\n          email,\n          name: data.user?.name || email.split('@')[0],\n          has_gemini_key: data.user?.has_gemini_key ?? false\n        };\n        await _asyncStorage.default.setItem('auth_token', data.access_token);\n        await _asyncStorage.default.setItem('user_data', JSON.stringify(synthesizedUser));\n        setToken(data.access_token);\n        setUser(synthesizedUser);\n      } catch (error) {\n        throw new Error(error.message || 'Error de conexión');\n      }\n    };\n    const register = async (email, password, name) => {\n      try {\n        const base = ensureBaseUrl();\n        // Backend /auth/register espera: username, email, password\n        const response = await fetch(`${base}/auth/register`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: name.trim() || email.split('@')[0],\n            email,\n            password\n          })\n        });\n        let data;\n        try {\n          data = await safeParseJSON(response);\n        } catch (parseErr) {\n          throw new Error(parseErr.message || 'Error parseando respuesta');\n        }\n        if (!response.ok) {\n          throw new Error(data?.detail || 'Error al registrarse');\n        }\n        const synthesizedUser = {\n          id: data.user?.id || email,\n          email,\n          name: name || email.split('@')[0],\n          has_gemini_key: false\n        };\n        await _asyncStorage.default.setItem('auth_token', data.access_token);\n        await _asyncStorage.default.setItem('user_data', JSON.stringify(synthesizedUser));\n        setToken(data.access_token);\n        setUser(synthesizedUser);\n      } catch (error) {\n        throw new Error(error.message || 'Error de conexión');\n      }\n    };\n\n    // (logout ya definido arriba con useCallback)\n\n    const updateUser = userData => {\n      if (user) {\n        const updatedUser = {\n          ...user,\n          ...userData\n        };\n        setUser(updatedUser);\n        _asyncStorage.default.setItem('user_data', JSON.stringify(updatedUser));\n      }\n    };\n    const value = {\n      user,\n      token,\n      loading,\n      login,\n      register,\n      logout,\n      updateUser\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }, this);\n  }\n\n  // Hook to use auth context\n  _s(AuthProvider, \"kfQc2xMKOwpsGOILUA32tEo/MvQ=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":236,"map":[[9,2,1,0],[9,6,1,0,"_asyncStorage"],[9,19,1,0],[9,22,1,0,"_interopRequireDefault"],[9,44,1,0],[9,45,1,0,"require"],[9,52,1,0],[9,53,1,0,"_dependencyMap"],[9,67,1,0],[10,2,2,0],[10,6,2,0,"_expoConstants"],[10,20,2,0],[10,23,2,0,"_interopRequireDefault"],[10,45,2,0],[10,46,2,0,"require"],[10,53,2,0],[10,54,2,0,"_dependencyMap"],[10,68,2,0],[11,2,3,0],[11,6,3,0,"_react"],[11,12,3,0],[11,15,3,0,"_interopRequireWildcard"],[11,38,3,0],[11,39,3,0,"require"],[11,46,3,0],[11,47,3,0,"_dependencyMap"],[11,61,3,0],[12,2,3,102],[12,6,3,102,"_jsxDevRuntime"],[12,20,3,102],[12,23,3,102,"require"],[12,30,3,102],[12,31,3,102,"_dependencyMap"],[12,45,3,102],[13,2,3,102],[13,6,3,102,"_jsxFileName"],[13,18,3,102],[14,4,3,102,"_s"],[14,6,3,102],[14,9,3,102,"$RefreshSig$"],[14,21,3,102],[15,4,3,102,"_s2"],[15,7,3,102],[15,10,3,102,"$RefreshSig$"],[15,22,3,102],[15,26,5,0],[16,2,5,0],[16,11,5,0,"_interopRequireWildcard"],[16,35,5,0,"e"],[16,36,5,0],[16,38,5,0,"t"],[16,39,5,0],[16,68,5,0,"WeakMap"],[16,75,5,0],[16,81,5,0,"r"],[16,82,5,0],[16,89,5,0,"WeakMap"],[16,96,5,0],[16,100,5,0,"n"],[16,101,5,0],[16,108,5,0,"WeakMap"],[16,115,5,0],[16,127,5,0,"_interopRequireWildcard"],[16,150,5,0],[16,162,5,0,"_interopRequireWildcard"],[16,163,5,0,"e"],[16,164,5,0],[16,166,5,0,"t"],[16,167,5,0],[16,176,5,0,"t"],[16,177,5,0],[16,181,5,0,"e"],[16,182,5,0],[16,186,5,0,"e"],[16,187,5,0],[16,188,5,0,"__esModule"],[16,198,5,0],[16,207,5,0,"e"],[16,208,5,0],[16,214,5,0,"o"],[16,215,5,0],[16,217,5,0,"i"],[16,218,5,0],[16,220,5,0,"f"],[16,221,5,0],[16,226,5,0,"__proto__"],[16,235,5,0],[16,243,5,0,"default"],[16,250,5,0],[16,252,5,0,"e"],[16,253,5,0],[16,270,5,0,"e"],[16,271,5,0],[16,294,5,0,"e"],[16,295,5,0],[16,320,5,0,"e"],[16,321,5,0],[16,330,5,0,"f"],[16,331,5,0],[16,337,5,0,"o"],[16,338,5,0],[16,341,5,0,"t"],[16,342,5,0],[16,345,5,0,"n"],[16,346,5,0],[16,349,5,0,"r"],[16,350,5,0],[16,358,5,0,"o"],[16,359,5,0],[16,360,5,0,"has"],[16,363,5,0],[16,364,5,0,"e"],[16,365,5,0],[16,375,5,0,"o"],[16,376,5,0],[16,377,5,0,"get"],[16,380,5,0],[16,381,5,0,"e"],[16,382,5,0],[16,385,5,0,"o"],[16,386,5,0],[16,387,5,0,"set"],[16,390,5,0],[16,391,5,0,"e"],[16,392,5,0],[16,394,5,0,"f"],[16,395,5,0],[16,411,5,0,"t"],[16,412,5,0],[16,416,5,0,"e"],[16,417,5,0],[16,433,5,0,"t"],[16,434,5,0],[16,441,5,0,"hasOwnProperty"],[16,455,5,0],[16,456,5,0,"call"],[16,460,5,0],[16,461,5,0,"e"],[16,462,5,0],[16,464,5,0,"t"],[16,465,5,0],[16,472,5,0,"i"],[16,473,5,0],[16,477,5,0,"o"],[16,478,5,0],[16,481,5,0,"Object"],[16,487,5,0],[16,488,5,0,"defineProperty"],[16,502,5,0],[16,507,5,0,"Object"],[16,513,5,0],[16,514,5,0,"getOwnPropertyDescriptor"],[16,538,5,0],[16,539,5,0,"e"],[16,540,5,0],[16,542,5,0,"t"],[16,543,5,0],[16,550,5,0,"i"],[16,551,5,0],[16,552,5,0,"get"],[16,555,5,0],[16,559,5,0,"i"],[16,560,5,0],[16,561,5,0,"set"],[16,564,5,0],[16,568,5,0,"o"],[16,569,5,0],[16,570,5,0,"f"],[16,571,5,0],[16,573,5,0,"t"],[16,574,5,0],[16,576,5,0,"i"],[16,577,5,0],[16,581,5,0,"f"],[16,582,5,0],[16,583,5,0,"t"],[16,584,5,0],[16,588,5,0,"e"],[16,589,5,0],[16,590,5,0,"t"],[16,591,5,0],[16,602,5,0,"f"],[16,603,5,0],[16,608,5,0,"e"],[16,609,5,0],[16,611,5,0,"t"],[16,612,5,0],[17,2,23,0],[18,2,24,0],[18,8,24,6,"AuthContext"],[18,19,24,17],[18,35,24,20],[18,39,24,20,"createContext"],[18,59,24,33],[18,61,24,63,"undefined"],[18,70,24,72],[18,71,24,73],[20,2,26,0],[21,2,27,0],[21,8,27,6,"API_BASE_URL"],[21,20,27,18],[21,23,28,2,"Constants"],[21,45,28,11],[21,46,28,12,"expoConfig"],[21,56,28,22],[21,58,28,24,"extra"],[21,63,28,29],[21,65,28,31,"EXPO_PUBLIC_BACKEND_URL"],[21,88,28,54],[21,92,28,54,"_env2"],[21,97,28,54],[21,98,28,54,"env"],[21,101,28,54],[21,102,28,54,"EXPO_PUBLIC_BACKEND_URL"],[21,125,29,37],[22,2,31,0],[22,11,31,9,"ensureBaseUrl"],[22,24,31,22,"ensureBaseUrl"],[22,25,31,22],[22,27,31,33],[23,4,32,2],[23,8,32,6],[23,9,32,7,"API_BASE_URL"],[23,21,32,19],[23,23,32,21],[24,6,33,4],[24,12,33,10],[24,16,33,14,"Error"],[24,21,33,19],[24,22,34,6],[24,101,35,4],[24,102,35,5],[25,4,36,2],[26,4,37,2],[26,11,37,9,"API_BASE_URL"],[26,23,37,21],[26,24,37,22,"replace"],[26,31,37,29],[26,32,37,30],[26,37,37,35],[26,39,37,37],[26,41,37,39],[26,42,37,40],[27,2,38,0],[28,2,40,0],[28,17,40,15,"safeParseJSON"],[28,30,40,28,"safeParseJSON"],[28,31,40,29,"response"],[28,39,40,47],[28,41,40,49],[29,4,41,2],[29,10,41,8,"contentType"],[29,21,41,19],[29,24,41,22,"response"],[29,32,41,30],[29,33,41,31,"headers"],[29,40,41,38],[29,41,41,39,"get"],[29,44,41,42],[29,45,41,43],[29,59,41,57],[29,60,41,58],[29,64,41,62],[29,66,41,64],[30,4,42,2],[30,10,42,8,"text"],[30,14,42,12],[30,17,42,15],[30,23,42,21,"response"],[30,31,42,29],[30,32,42,30,"text"],[30,36,42,34],[30,37,42,35],[30,38,42,36],[31,4,43,2],[31,8,43,6],[31,9,43,7,"contentType"],[31,20,43,18],[31,21,43,19,"includes"],[31,29,43,27],[31,30,43,28],[31,48,43,46],[31,49,43,47],[31,51,43,49],[32,6,44,4],[33,6,45,4],[33,10,45,8,"text"],[33,14,45,12],[33,15,45,13,"trim"],[33,19,45,17],[33,20,45,18],[33,21,45,19],[33,22,45,20,"startsWith"],[33,32,45,30],[33,33,45,31],[33,44,45,42],[33,45,45,43],[33,49,45,47,"text"],[33,53,45,51],[33,54,45,52,"trim"],[33,58,45,56],[33,59,45,57],[33,60,45,58],[33,61,45,59,"startsWith"],[33,71,45,69],[33,72,45,70],[33,79,45,77],[33,80,45,78],[33,82,45,80],[34,8,46,6],[34,14,46,12],[34,18,46,16,"Error"],[34,23,46,21],[34,24,47,8],[34,103,48,6],[34,104,48,7],[35,6,49,4],[36,6,50,4],[37,6,51,4],[37,10,51,8],[38,8,52,6],[38,15,52,13,"JSON"],[38,19,52,17],[38,20,52,18,"parse"],[38,25,52,23],[38,26,52,24,"text"],[38,30,52,28],[38,31,52,29],[39,6,53,4],[39,7,53,5],[39,8,53,6],[39,14,53,12],[40,8,54,6],[40,14,54,12],[40,18,54,16,"Error"],[40,23,54,21],[40,24,54,22],[40,54,54,52],[40,55,54,53],[41,6,55,4],[42,4,56,2],[43,4,57,2],[43,8,57,6],[44,6,58,4],[44,13,58,11,"JSON"],[44,17,58,15],[44,18,58,16,"parse"],[44,23,58,21],[44,24,58,22,"text"],[44,28,58,26],[44,29,58,27],[45,4,59,2],[45,5,59,3],[45,6,59,4],[45,12,59,10],[46,6,60,4],[46,12,60,10],[46,16,60,14,"Error"],[46,21,60,19],[46,22,60,20],[46,83,60,81],[46,84,60,82],[47,4,61,2],[48,2,62,0],[50,2,64,0],[51,2,65,7],[51,11,65,16,"AuthProvider"],[51,23,65,28,"AuthProvider"],[51,24,65,29],[52,4,65,31,"children"],[53,2,65,65],[53,3,65,66],[53,5,65,68],[54,4,65,68,"_s"],[54,6,65,68],[55,4,66,2],[55,10,66,8],[55,11,66,9,"user"],[55,15,66,13],[55,17,66,15,"setUser"],[55,24,66,22],[55,25,66,23],[55,28,66,26],[55,32,66,26,"useState"],[55,47,66,34],[55,49,66,48],[55,53,66,52],[55,54,66,53],[56,4,67,2],[56,10,67,8],[56,11,67,9,"token"],[56,16,67,14],[56,18,67,16,"setToken"],[56,26,67,24],[56,27,67,25],[56,30,67,28],[56,34,67,28,"useState"],[56,49,67,36],[56,51,67,52],[56,55,67,56],[56,56,67,57],[57,4,68,2],[57,10,68,8],[57,11,68,9,"loading"],[57,18,68,16],[57,20,68,18,"setLoading"],[57,30,68,28],[57,31,68,29],[57,34,68,32],[57,38,68,32,"useState"],[57,53,68,40],[57,55,68,41],[57,59,68,45],[57,60,68,46],[58,4,70,2],[58,10,70,8,"logout"],[58,16,70,14],[58,19,70,17],[58,23,70,17,"useCallback"],[58,41,70,28],[58,43,70,29],[58,55,70,41],[59,6,71,4],[59,10,71,8],[60,8,72,6],[60,14,72,12,"AsyncStorage"],[60,35,72,24],[60,36,72,25,"removeItem"],[60,46,72,35],[60,47,72,36],[60,59,72,48],[60,60,72,49],[61,8,73,6],[61,14,73,12,"AsyncStorage"],[61,35,73,24],[61,36,73,25,"removeItem"],[61,46,73,35],[61,47,73,36],[61,58,73,47],[61,59,73,48],[62,6,74,4],[62,7,74,5],[62,8,74,6],[62,15,74,13,"error"],[62,20,74,18],[62,22,74,20],[63,8,75,6,"console"],[63,15,75,13],[63,16,75,14,"error"],[63,21,75,19],[63,22,75,20],[63,47,75,45],[63,49,75,47,"error"],[63,54,75,52],[63,55,75,53],[64,6,76,4],[65,6,77,4,"setToken"],[65,14,77,12],[65,15,77,13],[65,19,77,17],[65,20,77,18],[66,6,78,4,"setUser"],[66,13,78,11],[66,14,78,12],[66,18,78,16],[66,19,78,17],[67,4,79,2],[67,5,79,3],[67,7,79,5],[67,9,79,7],[67,10,79,8],[68,4,81,2],[68,10,81,8,"verifyToken"],[68,21,81,19],[68,24,81,22],[68,28,81,22,"useCallback"],[68,46,81,33],[68,48,81,34],[68,54,81,41,"authToken"],[68,63,81,58],[68,67,81,63],[69,6,82,4],[69,10,82,8],[70,8,83,6],[70,14,83,12,"base"],[70,18,83,16],[70,21,83,19,"ensureBaseUrl"],[70,34,83,32],[70,35,83,33],[70,36,83,34],[71,8,84,6],[71,14,84,12,"response"],[71,22,84,20],[71,25,84,23],[71,31,84,29,"fetch"],[71,36,84,34],[71,37,84,35],[71,40,84,38,"base"],[71,44,84,42],[71,54,84,52],[71,56,84,54],[72,10,85,8,"headers"],[72,17,85,15],[72,19,85,17],[73,12,86,10,"Authorization"],[73,25,86,23],[73,27,86,25],[73,37,86,35,"authToken"],[73,46,86,44],[73,48,86,46],[74,12,87,10],[74,26,87,24],[74,28,87,26],[75,10,88,8],[76,8,89,6],[76,9,89,7],[76,10,89,8],[77,8,90,6],[77,12,90,10],[77,13,90,11,"response"],[77,21,90,19],[77,22,90,20,"ok"],[77,24,90,22],[77,26,90,24],[78,10,91,8],[78,16,91,14],[78,20,91,18,"Error"],[78,25,91,23],[78,26,91,24],[78,41,91,39],[78,42,91,40],[79,8,92,6],[80,8,93,6],[80,14,93,12,"userData"],[80,22,93,20],[80,25,93,23],[80,31,93,29,"safeParseJSON"],[80,44,93,42],[80,45,93,43,"response"],[80,53,93,51],[80,54,93,52],[81,8,94,6,"setUser"],[81,15,94,13],[81,16,94,14,"userData"],[81,24,94,22],[81,25,94,23],[82,6,95,4],[82,7,95,5],[82,8,95,6],[82,15,95,13,"error"],[82,20,95,18],[82,22,95,20],[83,8,96,6,"console"],[83,15,96,13],[83,16,96,14,"error"],[83,21,96,19],[83,22,96,20],[83,50,96,48],[83,52,96,50,"error"],[83,57,96,55],[83,58,96,56],[84,8,97,6],[84,14,97,12,"logout"],[84,20,97,18],[84,21,97,19],[84,22,97,20],[85,6,98,4],[86,4,99,2],[86,5,99,3],[86,7,99,5],[86,8,99,6,"logout"],[86,14,99,12],[86,15,99,13],[86,16,99,14],[87,4,101,2],[87,10,101,8,"loadStoredAuth"],[87,24,101,22],[87,27,101,25],[87,31,101,25,"useCallback"],[87,49,101,36],[87,51,101,37],[87,63,101,49],[88,6,102,4],[88,10,102,8],[89,8,103,6],[89,14,103,12,"storedToken"],[89,25,103,23],[89,28,103,26],[89,34,103,32,"AsyncStorage"],[89,55,103,44],[89,56,103,45,"getItem"],[89,63,103,52],[89,64,103,53],[89,76,103,65],[89,77,103,66],[90,8,104,6],[90,14,104,12,"storedUser"],[90,24,104,22],[90,27,104,25],[90,33,104,31,"AsyncStorage"],[90,54,104,43],[90,55,104,44,"getItem"],[90,62,104,51],[90,63,104,52],[90,74,104,63],[90,75,104,64],[91,8,106,6],[91,12,106,10,"storedToken"],[91,23,106,21],[91,27,106,25,"storedUser"],[91,37,106,35],[91,39,106,37],[92,10,107,8,"setToken"],[92,18,107,16],[92,19,107,17,"storedToken"],[92,30,107,28],[92,31,107,29],[93,10,108,8,"setUser"],[93,17,108,15],[93,18,108,16,"JSON"],[93,22,108,20],[93,23,108,21,"parse"],[93,28,108,26],[93,29,108,27,"storedUser"],[93,39,108,37],[93,40,108,38],[93,41,108,39],[95,10,110,8],[96,10,111,8],[96,16,111,14,"verifyToken"],[96,27,111,25],[96,28,111,26,"storedToken"],[96,39,111,37],[96,40,111,38],[97,8,112,6],[98,6,113,4],[98,7,113,5],[98,8,113,6],[98,15,113,13,"error"],[98,20,113,18],[98,22,113,20],[99,8,114,6,"console"],[99,15,114,13],[99,16,114,14,"error"],[99,21,114,19],[99,22,114,20],[99,50,114,48],[99,52,114,50,"error"],[99,57,114,55],[99,58,114,56],[100,8,115,6],[100,14,115,12,"logout"],[100,20,115,18],[100,21,115,19],[100,22,115,20],[101,6,116,4],[101,7,116,5],[101,16,116,14],[102,8,117,6,"setLoading"],[102,18,117,16],[102,19,117,17],[102,24,117,22],[102,25,117,23],[103,6,118,4],[104,4,119,2],[104,5,119,3],[104,7,119,5],[104,8,119,6,"verifyToken"],[104,19,119,17],[104,21,119,19,"logout"],[104,27,119,25],[104,28,119,26],[104,29,119,27],[106,4,121,2],[107,4,122,2],[107,8,122,2,"useEffect"],[107,24,122,11],[107,26,122,12],[107,32,122,18],[108,6,123,4,"loadStoredAuth"],[108,20,123,18],[108,21,123,19],[108,22,123,20],[109,4,124,2],[109,5,124,3],[109,7,124,5],[109,8,124,6,"loadStoredAuth"],[109,22,124,20],[109,23,124,21],[109,24,124,22],[111,4,126,2],[113,4,128,2],[113,10,128,8,"login"],[113,15,128,13],[113,18,128,16],[113,24,128,16,"login"],[113,25,128,23,"email"],[113,30,128,36],[113,32,128,38,"password"],[113,40,128,54],[113,45,128,59],[114,6,129,4],[114,10,129,8],[115,8,130,6],[115,14,130,12,"base"],[115,18,130,16],[115,21,130,19,"ensureBaseUrl"],[115,34,130,32],[115,35,130,33],[115,36,130,34],[116,8,131,6],[117,8,132,6],[117,14,132,12,"response"],[117,22,132,20],[117,25,132,23],[117,31,132,29,"fetch"],[117,36,132,34],[117,37,132,35],[117,40,132,38,"base"],[117,44,132,42],[117,57,132,55],[117,59,132,57],[118,10,133,8,"method"],[118,16,133,14],[118,18,133,16],[118,24,133,22],[119,10,134,8,"headers"],[119,17,134,15],[119,19,134,17],[120,12,135,10],[120,26,135,24],[120,28,135,26],[121,10,136,8],[121,11,136,9],[122,10,137,8,"body"],[122,14,137,12],[122,16,137,14,"JSON"],[122,20,137,18],[122,21,137,19,"stringify"],[122,30,137,28],[122,31,137,29],[123,12,137,31,"username"],[123,20,137,39],[123,22,137,41,"email"],[123,27,137,46],[124,12,137,48,"password"],[125,10,137,57],[125,11,137,58],[126,8,138,6],[126,9,138,7],[126,10,138,8],[127,8,140,6],[127,12,140,10,"data"],[127,16,140,19],[128,8,141,6],[128,12,141,10],[129,10,142,8,"data"],[129,14,142,12],[129,17,142,15],[129,23,142,21,"safeParseJSON"],[129,36,142,34],[129,37,142,35,"response"],[129,45,142,43],[129,46,142,44],[130,8,143,6],[130,9,143,7],[130,10,143,8],[130,17,143,15,"parseErr"],[130,25,143,28],[130,27,143,30],[131,10,144,8],[131,16,144,14],[131,20,144,18,"Error"],[131,25,144,23],[131,26,144,24,"parseErr"],[131,34,144,32],[131,35,144,33,"message"],[131,42,144,40],[131,46,144,44],[131,73,144,71],[131,74,144,72],[132,8,145,6],[133,8,147,6],[133,12,147,10],[133,13,147,11,"response"],[133,21,147,19],[133,22,147,20,"ok"],[133,24,147,22],[133,26,147,24],[134,10,148,8],[134,16,148,14],[134,20,148,18,"Error"],[134,25,148,23],[134,26,148,24,"data"],[134,30,148,28],[134,32,148,30,"detail"],[134,38,148,36],[134,42,148,40],[134,67,148,65],[134,68,148,66],[135,8,149,6],[137,8,151,6],[138,8,152,6],[138,14,152,12,"synthesizedUser"],[138,29,152,33],[138,32,152,36],[139,10,153,8,"id"],[139,12,153,10],[139,14,153,12,"data"],[139,18,153,16],[139,19,153,17,"user"],[139,23,153,21],[139,25,153,23,"id"],[139,27,153,25],[139,31,153,29,"email"],[139,36,153,34],[140,10,154,8,"email"],[140,15,154,13],[141,10,155,8,"name"],[141,14,155,12],[141,16,155,14,"data"],[141,20,155,18],[141,21,155,19,"user"],[141,25,155,23],[141,27,155,25,"name"],[141,31,155,29],[141,35,155,33,"email"],[141,40,155,38],[141,41,155,39,"split"],[141,46,155,44],[141,47,155,45],[141,50,155,48],[141,51,155,49],[141,52,155,50],[141,53,155,51],[141,54,155,52],[142,10,156,8,"has_gemini_key"],[142,24,156,22],[142,26,156,24,"data"],[142,30,156,28],[142,31,156,29,"user"],[142,35,156,33],[142,37,156,35,"has_gemini_key"],[142,51,156,49],[142,55,156,53],[143,8,157,6],[143,9,157,7],[144,8,159,6],[144,14,159,12,"AsyncStorage"],[144,35,159,24],[144,36,159,25,"setItem"],[144,43,159,32],[144,44,159,33],[144,56,159,45],[144,58,159,47,"data"],[144,62,159,51],[144,63,159,52,"access_token"],[144,75,159,64],[144,76,159,65],[145,8,160,6],[145,14,160,12,"AsyncStorage"],[145,35,160,24],[145,36,160,25,"setItem"],[145,43,160,32],[145,44,160,33],[145,55,160,44],[145,57,160,46,"JSON"],[145,61,160,50],[145,62,160,51,"stringify"],[145,71,160,60],[145,72,160,61,"synthesizedUser"],[145,87,160,76],[145,88,160,77],[145,89,160,78],[146,8,162,6,"setToken"],[146,16,162,14],[146,17,162,15,"data"],[146,21,162,19],[146,22,162,20,"access_token"],[146,34,162,32],[146,35,162,33],[147,8,163,6,"setUser"],[147,15,163,13],[147,16,163,14,"synthesizedUser"],[147,31,163,29],[147,32,163,30],[148,6,164,4],[148,7,164,5],[148,8,164,6],[148,15,164,13,"error"],[148,20,164,23],[148,22,164,25],[149,8,165,6],[149,14,165,12],[149,18,165,16,"Error"],[149,23,165,21],[149,24,165,22,"error"],[149,29,165,27],[149,30,165,28,"message"],[149,37,165,35],[149,41,165,39],[149,60,165,58],[149,61,165,59],[150,6,166,4],[151,4,167,2],[151,5,167,3],[152,4,169,2],[152,10,169,8,"register"],[152,18,169,16],[152,21,169,19],[152,27,169,19,"register"],[152,28,169,26,"email"],[152,33,169,39],[152,35,169,41,"password"],[152,43,169,57],[152,45,169,59,"name"],[152,49,169,71],[152,54,169,76],[153,6,170,4],[153,10,170,8],[154,8,171,6],[154,14,171,12,"base"],[154,18,171,16],[154,21,171,19,"ensureBaseUrl"],[154,34,171,32],[154,35,171,33],[154,36,171,34],[155,8,172,6],[156,8,173,6],[156,14,173,12,"response"],[156,22,173,20],[156,25,173,23],[156,31,173,29,"fetch"],[156,36,173,34],[156,37,173,35],[156,40,173,38,"base"],[156,44,173,42],[156,60,173,58],[156,62,173,60],[157,10,174,8,"method"],[157,16,174,14],[157,18,174,16],[157,24,174,22],[158,10,175,8,"headers"],[158,17,175,15],[158,19,175,17],[159,12,176,10],[159,26,176,24],[159,28,176,26],[160,10,177,8],[160,11,177,9],[161,10,178,8,"body"],[161,14,178,12],[161,16,178,14,"JSON"],[161,20,178,18],[161,21,178,19,"stringify"],[161,30,178,28],[161,31,178,29],[162,12,178,31,"username"],[162,20,178,39],[162,22,178,41,"name"],[162,26,178,45],[162,27,178,46,"trim"],[162,31,178,50],[162,32,178,51],[162,33,178,52],[162,37,178,56,"email"],[162,42,178,61],[162,43,178,62,"split"],[162,48,178,67],[162,49,178,68],[162,52,178,71],[162,53,178,72],[162,54,178,73],[162,55,178,74],[162,56,178,75],[163,12,178,77,"email"],[163,17,178,82],[164,12,178,84,"password"],[165,10,178,93],[165,11,178,94],[166,8,179,6],[166,9,179,7],[166,10,179,8],[167,8,181,6],[167,12,181,10,"data"],[167,16,181,19],[168,8,182,6],[168,12,182,10],[169,10,183,8,"data"],[169,14,183,12],[169,17,183,15],[169,23,183,21,"safeParseJSON"],[169,36,183,34],[169,37,183,35,"response"],[169,45,183,43],[169,46,183,44],[170,8,184,6],[170,9,184,7],[170,10,184,8],[170,17,184,15,"parseErr"],[170,25,184,28],[170,27,184,30],[171,10,185,8],[171,16,185,14],[171,20,185,18,"Error"],[171,25,185,23],[171,26,185,24,"parseErr"],[171,34,185,32],[171,35,185,33,"message"],[171,42,185,40],[171,46,185,44],[171,73,185,71],[171,74,185,72],[172,8,186,6],[173,8,188,6],[173,12,188,10],[173,13,188,11,"response"],[173,21,188,19],[173,22,188,20,"ok"],[173,24,188,22],[173,26,188,24],[174,10,189,8],[174,16,189,14],[174,20,189,18,"Error"],[174,25,189,23],[174,26,189,24,"data"],[174,30,189,28],[174,32,189,30,"detail"],[174,38,189,36],[174,42,189,40],[174,64,189,62],[174,65,189,63],[175,8,190,6],[176,8,192,6],[176,14,192,12,"synthesizedUser"],[176,29,192,33],[176,32,192,36],[177,10,193,8,"id"],[177,12,193,10],[177,14,193,12,"data"],[177,18,193,16],[177,19,193,17,"user"],[177,23,193,21],[177,25,193,23,"id"],[177,27,193,25],[177,31,193,29,"email"],[177,36,193,34],[178,10,194,8,"email"],[178,15,194,13],[179,10,195,8,"name"],[179,14,195,12],[179,16,195,14,"name"],[179,20,195,18],[179,24,195,22,"email"],[179,29,195,27],[179,30,195,28,"split"],[179,35,195,33],[179,36,195,34],[179,39,195,37],[179,40,195,38],[179,41,195,39],[179,42,195,40],[179,43,195,41],[180,10,196,8,"has_gemini_key"],[180,24,196,22],[180,26,196,24],[181,8,197,6],[181,9,197,7],[182,8,199,6],[182,14,199,12,"AsyncStorage"],[182,35,199,24],[182,36,199,25,"setItem"],[182,43,199,32],[182,44,199,33],[182,56,199,45],[182,58,199,47,"data"],[182,62,199,51],[182,63,199,52,"access_token"],[182,75,199,64],[182,76,199,65],[183,8,200,6],[183,14,200,12,"AsyncStorage"],[183,35,200,24],[183,36,200,25,"setItem"],[183,43,200,32],[183,44,200,33],[183,55,200,44],[183,57,200,46,"JSON"],[183,61,200,50],[183,62,200,51,"stringify"],[183,71,200,60],[183,72,200,61,"synthesizedUser"],[183,87,200,76],[183,88,200,77],[183,89,200,78],[184,8,202,6,"setToken"],[184,16,202,14],[184,17,202,15,"data"],[184,21,202,19],[184,22,202,20,"access_token"],[184,34,202,32],[184,35,202,33],[185,8,203,6,"setUser"],[185,15,203,13],[185,16,203,14,"synthesizedUser"],[185,31,203,29],[185,32,203,30],[186,6,204,4],[186,7,204,5],[186,8,204,6],[186,15,204,13,"error"],[186,20,204,23],[186,22,204,25],[187,8,205,6],[187,14,205,12],[187,18,205,16,"Error"],[187,23,205,21],[187,24,205,22,"error"],[187,29,205,27],[187,30,205,28,"message"],[187,37,205,35],[187,41,205,39],[187,60,205,58],[187,61,205,59],[188,6,206,4],[189,4,207,2],[189,5,207,3],[191,4,209,2],[193,4,211,2],[193,10,211,8,"updateUser"],[193,20,211,18],[193,23,211,22,"userData"],[193,31,211,45],[193,35,211,50],[194,6,212,4],[194,10,212,8,"user"],[194,14,212,12],[194,16,212,14],[195,8,213,6],[195,14,213,12,"updatedUser"],[195,25,213,23],[195,28,213,26],[196,10,213,28],[196,13,213,31,"user"],[196,17,213,35],[197,10,213,37],[197,13,213,40,"userData"],[198,8,213,49],[198,9,213,50],[199,8,214,6,"setUser"],[199,15,214,13],[199,16,214,14,"updatedUser"],[199,27,214,25],[199,28,214,26],[200,8,215,6,"AsyncStorage"],[200,29,215,18],[200,30,215,19,"setItem"],[200,37,215,26],[200,38,215,27],[200,49,215,38],[200,51,215,40,"JSON"],[200,55,215,44],[200,56,215,45,"stringify"],[200,65,215,54],[200,66,215,55,"updatedUser"],[200,77,215,66],[200,78,215,67],[200,79,215,68],[201,6,216,4],[202,4,217,2],[202,5,217,3],[203,4,219,2],[203,10,219,8,"value"],[203,15,219,30],[203,18,219,33],[204,6,220,4,"user"],[204,10,220,8],[205,6,221,4,"token"],[205,11,221,9],[206,6,222,4,"loading"],[206,13,222,11],[207,6,223,4,"login"],[207,11,223,9],[208,6,224,4,"register"],[208,14,224,12],[209,6,225,4,"logout"],[209,12,225,10],[210,6,226,4,"updateUser"],[211,4,227,2],[211,5,227,3],[212,4,229,2],[212,24,230,4],[212,28,230,4,"_jsxDevRuntime"],[212,42,230,4],[212,43,230,4,"jsxDEV"],[212,49,230,4],[212,51,230,5,"AuthContext"],[212,62,230,16],[212,63,230,17,"Provider"],[212,71,230,25],[213,6,230,26,"value"],[213,11,230,31],[213,13,230,33,"value"],[213,18,230,39],[214,6,230,39,"children"],[214,14,230,39],[214,16,231,7,"children"],[215,4,231,15],[216,6,231,15,"fileName"],[216,14,231,15],[216,16,231,15,"_jsxFileName"],[216,28,231,15],[217,6,231,15,"lineNumber"],[217,16,231,15],[218,6,231,15,"columnNumber"],[218,18,231,15],[219,4,231,15],[219,11,232,26],[219,12,232,27],[220,2,234,0],[222,2,236,0],[223,2,236,0,"_s"],[223,4,236,0],[223,5,65,16,"AuthProvider"],[223,17,65,28],[224,2,65,28,"_c"],[224,4,65,28],[224,7,65,16,"AuthProvider"],[224,19,65,28],[225,2,237,7],[225,11,237,16,"useAuth"],[225,18,237,23,"useAuth"],[225,19,237,23],[225,21,237,26],[226,4,237,26,"_s2"],[226,7,237,26],[227,4,238,2],[227,10,238,8,"context"],[227,17,238,15],[227,20,238,18],[227,24,238,18,"useContext"],[227,41,238,28],[227,43,238,29,"AuthContext"],[227,54,238,40],[227,55,238,41],[228,4,239,2],[228,8,239,6,"context"],[228,15,239,13],[228,20,239,18,"undefined"],[228,29,239,27],[228,31,239,29],[229,6,240,4],[229,12,240,10],[229,16,240,14,"Error"],[229,21,240,19],[229,22,240,20],[229,67,240,65],[229,68,240,66],[230,4,241,2],[231,4,242,2],[231,11,242,9,"context"],[231,18,242,16],[232,2,243,0],[233,2,243,1,"_s2"],[233,5,243,1],[233,6,237,16,"useAuth"],[233,13,237,23],[234,2,237,23],[234,6,237,23,"_c"],[234,8,237,23],[235,2,237,23,"$RefreshReg$"],[235,14,237,23],[235,15,237,23,"_c"],[235,17,237,23],[236,0,237,23],[236,3]],"functionMap":{"names":["<global>","ensureBaseUrl","safeParseJSON","AuthProvider","logout","verifyToken","loadStoredAuth","useEffect$argument_0","login","register","updateUser","useAuth"],"mappings":"AAA;AC8B;CDO;AEE;CFsB;OGG;6BCK;GDS;kCEE;GFkB;qCGE;GHkB;YIG;GJE;gBKI;GLuC;mBME;GNsC;qBOI;GPM;CHiB;OWG"}},"type":"js/module"}]}