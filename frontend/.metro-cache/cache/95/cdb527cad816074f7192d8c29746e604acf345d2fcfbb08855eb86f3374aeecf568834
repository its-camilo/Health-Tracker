{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":39,"index":109}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":110},"end":{"line":3,"column":102,"index":212}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[1], \"@react-native-async-storage/async-storage\"));\n  var _expoConstants = _interopRequireDefault(require(_dependencyMap[2], \"expo-constants\"));\n  var _react = _interopRequireWildcard(require(_dependencyMap[3], \"react\"));\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/workspaces/Health-Tracker/frontend/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // Types\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  // Create context\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // API Base URL resolution strategy (orden de prioridad):\n  // 1. process.env.EXPO_PUBLIC_BACKEND_URL (inyectada por Expo en tiempo de build)\n  // 2. Constants.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL (app.json / app.config.*)\n  // 3. Fallback constante definido aquí (Codespaces actual)\n  const DEFAULT_BACKEND_URL = 'https://fantastic-train-rxwxqr7g55xcww9v-8000.app.github.dev';\n  const RESOLVED_BACKEND_URL = typeof process !== 'undefined' && process?.env?.EXPO_PUBLIC_BACKEND_URL || _expoConstants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || DEFAULT_BACKEND_URL;\n  function ensureBaseUrl() {\n    if (!RESOLVED_BACKEND_URL) {\n      // Último recurso: se retorna fallback y se avisa por consola en lugar de lanzar.\n      console.warn('[Auth] Backend URL no encontrada, usando fallback DEFAULT_BACKEND_URL');\n      return DEFAULT_BACKEND_URL;\n    }\n    return RESOLVED_BACKEND_URL.replace(/\\/$/, '');\n  }\n  async function safeParseJSON(response) {\n    const contentType = response.headers.get('content-type') || '';\n    const text = await response.text();\n    if (!contentType.includes('application/json')) {\n      // Intentar detectar HTML dev server / error proxy\n      if (text.trim().startsWith('<!DOCTYPE') || text.trim().startsWith('<html')) {\n        throw new Error('El servidor devolvió HTML en lugar de JSON. Revisa la URL del backend o CORS.');\n      }\n      // Intento final: tratar de parsear aunque no haya content-type adecuado\n      try {\n        return JSON.parse(text);\n      } catch {\n        throw new Error('Respuesta no es JSON válido.');\n      }\n    }\n    try {\n      return JSON.parse(text);\n    } catch {\n      throw new Error('No se pudo parsear JSON (posible HTML o error de servidor).');\n    }\n  }\n\n  // Auth Provider Component\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const logout = (0, _react.useCallback)(async () => {\n      try {\n        await _asyncStorage.default.removeItem('auth_token');\n        await _asyncStorage.default.removeItem('user_data');\n      } catch (error) {\n        console.error('Error clearing storage:', error);\n      }\n      setToken(null);\n      setUser(null);\n    }, []);\n    const verifyToken = (0, _react.useCallback)(async authToken => {\n      try {\n        const base = ensureBaseUrl();\n        const response = await fetch(`${base}/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Token invalid');\n        }\n        const userData = await safeParseJSON(response);\n        setUser(userData);\n      } catch (error) {\n        console.error('Token verification failed:', error);\n        await logout();\n      }\n    }, [logout]);\n    const loadStoredAuth = (0, _react.useCallback)(async () => {\n      try {\n        const storedToken = await _asyncStorage.default.getItem('auth_token');\n        const storedUser = await _asyncStorage.default.getItem('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n\n          // Verify token is still valid\n          await verifyToken(storedToken);\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n        await logout();\n      } finally {\n        setLoading(false);\n      }\n    }, [verifyToken, logout]);\n\n    // Load stored auth data on app start\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, [loadStoredAuth]);\n\n    // (verifyToken ya definido arriba con useCallback)\n\n    const login = async (email, password) => {\n      try {\n        const base = ensureBaseUrl();\n        // El backend actual espera username/password en /auth/login\n        const response = await fetch(`${base}/auth/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: email,\n            password\n          })\n        });\n        let data;\n        try {\n          data = await safeParseJSON(response);\n        } catch (parseErr) {\n          throw new Error(parseErr.message || 'Error parseando respuesta');\n        }\n        if (!response.ok) {\n          throw new Error(data?.detail || 'Error al iniciar sesión');\n        }\n\n        // El backend no devuelve user, así que lo sintetizamos\n        const synthesizedUser = {\n          id: data.user?.id || email,\n          email,\n          name: data.user?.name || email.split('@')[0],\n          has_gemini_key: data.user?.has_gemini_key ?? false\n        };\n        await _asyncStorage.default.setItem('auth_token', data.access_token);\n        await _asyncStorage.default.setItem('user_data', JSON.stringify(synthesizedUser));\n        setToken(data.access_token);\n        setUser(synthesizedUser);\n      } catch (error) {\n        throw new Error(error.message || 'Error de conexión');\n      }\n    };\n    const register = async (email, password, name) => {\n      try {\n        const base = ensureBaseUrl();\n        // Backend /auth/register espera: username, email, password\n        const response = await fetch(`${base}/auth/register`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: name.trim() || email.split('@')[0],\n            email,\n            password\n          })\n        });\n        let data;\n        try {\n          data = await safeParseJSON(response);\n        } catch (parseErr) {\n          throw new Error(parseErr.message || 'Error parseando respuesta');\n        }\n        if (!response.ok) {\n          throw new Error(data?.detail || 'Error al registrarse');\n        }\n        const synthesizedUser = {\n          id: data.user?.id || email,\n          email,\n          name: name || email.split('@')[0],\n          has_gemini_key: false\n        };\n        await _asyncStorage.default.setItem('auth_token', data.access_token);\n        await _asyncStorage.default.setItem('user_data', JSON.stringify(synthesizedUser));\n        setToken(data.access_token);\n        setUser(synthesizedUser);\n      } catch (error) {\n        throw new Error(error.message || 'Error de conexión');\n      }\n    };\n\n    // (logout ya definido arriba con useCallback)\n\n    const updateUser = userData => {\n      if (user) {\n        const updatedUser = Object.assign({}, user, userData);\n        setUser(updatedUser);\n        _asyncStorage.default.setItem('user_data', JSON.stringify(updatedUser));\n      }\n    };\n    const value = {\n      user,\n      token,\n      loading,\n      login,\n      register,\n      logout,\n      updateUser\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }, this);\n  }\n\n  // Hook to use auth context\n  _s(AuthProvider, \"kfQc2xMKOwpsGOILUA32tEo/MvQ=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":238,"map":[[8,2,1,0],[8,6,1,0,"_asyncStorage"],[8,19,1,0],[8,22,1,0,"_interopRequireDefault"],[8,44,1,0],[8,45,1,0,"require"],[8,52,1,0],[8,53,1,0,"_dependencyMap"],[8,67,1,0],[9,2,2,0],[9,6,2,0,"_expoConstants"],[9,20,2,0],[9,23,2,0,"_interopRequireDefault"],[9,45,2,0],[9,46,2,0,"require"],[9,53,2,0],[9,54,2,0,"_dependencyMap"],[9,68,2,0],[10,2,3,0],[10,6,3,0,"_react"],[10,12,3,0],[10,15,3,0,"_interopRequireWildcard"],[10,38,3,0],[10,39,3,0,"require"],[10,46,3,0],[10,47,3,0,"_dependencyMap"],[10,61,3,0],[11,2,3,102],[11,6,3,102,"_jsxDevRuntime"],[11,20,3,102],[11,23,3,102,"require"],[11,30,3,102],[11,31,3,102,"_dependencyMap"],[11,45,3,102],[12,2,3,102],[12,6,3,102,"_jsxFileName"],[12,18,3,102],[13,4,3,102,"_s"],[13,6,3,102],[13,9,3,102,"$RefreshSig$"],[13,21,3,102],[14,4,3,102,"_s2"],[14,7,3,102],[14,10,3,102,"$RefreshSig$"],[14,22,3,102],[14,26,5,0],[15,2,5,0],[15,11,5,0,"_interopRequireWildcard"],[15,35,5,0,"e"],[15,36,5,0],[15,38,5,0,"t"],[15,39,5,0],[15,68,5,0,"WeakMap"],[15,75,5,0],[15,81,5,0,"r"],[15,82,5,0],[15,89,5,0,"WeakMap"],[15,96,5,0],[15,100,5,0,"n"],[15,101,5,0],[15,108,5,0,"WeakMap"],[15,115,5,0],[15,127,5,0,"_interopRequireWildcard"],[15,150,5,0],[15,162,5,0,"_interopRequireWildcard"],[15,163,5,0,"e"],[15,164,5,0],[15,166,5,0,"t"],[15,167,5,0],[15,176,5,0,"t"],[15,177,5,0],[15,181,5,0,"e"],[15,182,5,0],[15,186,5,0,"e"],[15,187,5,0],[15,188,5,0,"__esModule"],[15,198,5,0],[15,207,5,0,"e"],[15,208,5,0],[15,214,5,0,"o"],[15,215,5,0],[15,217,5,0,"i"],[15,218,5,0],[15,220,5,0,"f"],[15,221,5,0],[15,226,5,0,"__proto__"],[15,235,5,0],[15,243,5,0,"default"],[15,250,5,0],[15,252,5,0,"e"],[15,253,5,0],[15,270,5,0,"e"],[15,271,5,0],[15,294,5,0,"e"],[15,295,5,0],[15,320,5,0,"e"],[15,321,5,0],[15,330,5,0,"f"],[15,331,5,0],[15,337,5,0,"o"],[15,338,5,0],[15,341,5,0,"t"],[15,342,5,0],[15,345,5,0,"n"],[15,346,5,0],[15,349,5,0,"r"],[15,350,5,0],[15,358,5,0,"o"],[15,359,5,0],[15,360,5,0,"has"],[15,363,5,0],[15,364,5,0,"e"],[15,365,5,0],[15,375,5,0,"o"],[15,376,5,0],[15,377,5,0,"get"],[15,380,5,0],[15,381,5,0,"e"],[15,382,5,0],[15,385,5,0,"o"],[15,386,5,0],[15,387,5,0,"set"],[15,390,5,0],[15,391,5,0,"e"],[15,392,5,0],[15,394,5,0,"f"],[15,395,5,0],[15,411,5,0,"t"],[15,412,5,0],[15,416,5,0,"e"],[15,417,5,0],[15,433,5,0,"t"],[15,434,5,0],[15,441,5,0,"hasOwnProperty"],[15,455,5,0],[15,456,5,0,"call"],[15,460,5,0],[15,461,5,0,"e"],[15,462,5,0],[15,464,5,0,"t"],[15,465,5,0],[15,472,5,0,"i"],[15,473,5,0],[15,477,5,0,"o"],[15,478,5,0],[15,481,5,0,"Object"],[15,487,5,0],[15,488,5,0,"defineProperty"],[15,502,5,0],[15,507,5,0,"Object"],[15,513,5,0],[15,514,5,0,"getOwnPropertyDescriptor"],[15,538,5,0],[15,539,5,0,"e"],[15,540,5,0],[15,542,5,0,"t"],[15,543,5,0],[15,550,5,0,"i"],[15,551,5,0],[15,552,5,0,"get"],[15,555,5,0],[15,559,5,0,"i"],[15,560,5,0],[15,561,5,0,"set"],[15,564,5,0],[15,568,5,0,"o"],[15,569,5,0],[15,570,5,0,"f"],[15,571,5,0],[15,573,5,0,"t"],[15,574,5,0],[15,576,5,0,"i"],[15,577,5,0],[15,581,5,0,"f"],[15,582,5,0],[15,583,5,0,"t"],[15,584,5,0],[15,588,5,0,"e"],[15,589,5,0],[15,590,5,0,"t"],[15,591,5,0],[15,602,5,0,"f"],[15,603,5,0],[15,608,5,0,"e"],[15,609,5,0],[15,611,5,0,"t"],[15,612,5,0],[16,2,23,0],[17,2,24,0],[17,8,24,6,"AuthContext"],[17,19,24,17],[17,35,24,20],[17,39,24,20,"createContext"],[17,59,24,33],[17,61,24,63,"undefined"],[17,70,24,72],[17,71,24,73],[19,2,26,0],[20,2,27,0],[21,2,28,0],[22,2,29,0],[23,2,30,0],[23,8,30,6,"DEFAULT_BACKEND_URL"],[23,27,30,25],[23,30,30,28],[23,92,30,90],[24,2,31,0],[24,8,31,6,"RESOLVED_BACKEND_URL"],[24,28,31,26],[24,31,32,3],[24,38,32,10,"process"],[24,45,32,17],[24,50,32,22],[24,61,32,33],[24,65,32,38,"process"],[24,72,32,45],[24,74,32,55,"env"],[24,77,32,58],[24,79,32,60,"EXPO_PUBLIC_BACKEND_URL"],[24,102,32,83],[24,106,33,2,"Constants"],[24,128,33,11],[24,129,33,12,"expoConfig"],[24,139,33,22],[24,141,33,24,"extra"],[24,146,33,29],[24,148,33,31,"EXPO_PUBLIC_BACKEND_URL"],[24,171,33,54],[24,175,34,2,"DEFAULT_BACKEND_URL"],[24,194,35,1],[25,2,37,0],[25,11,37,9,"ensureBaseUrl"],[25,24,37,22,"ensureBaseUrl"],[25,25,37,22],[25,27,37,33],[26,4,38,2],[26,8,38,6],[26,9,38,7,"RESOLVED_BACKEND_URL"],[26,29,38,27],[26,31,38,29],[27,6,39,4],[28,6,40,4,"console"],[28,13,40,11],[28,14,40,12,"warn"],[28,18,40,16],[28,19,40,17],[28,90,40,88],[28,91,40,89],[29,6,41,4],[29,13,41,11,"DEFAULT_BACKEND_URL"],[29,32,41,30],[30,4,42,2],[31,4,43,2],[31,11,43,9,"RESOLVED_BACKEND_URL"],[31,31,43,29],[31,32,43,30,"replace"],[31,39,43,37],[31,40,43,38],[31,45,43,43],[31,47,43,45],[31,49,43,47],[31,50,43,48],[32,2,44,0],[33,2,46,0],[33,17,46,15,"safeParseJSON"],[33,30,46,28,"safeParseJSON"],[33,31,46,29,"response"],[33,39,46,47],[33,41,46,49],[34,4,47,2],[34,10,47,8,"contentType"],[34,21,47,19],[34,24,47,22,"response"],[34,32,47,30],[34,33,47,31,"headers"],[34,40,47,38],[34,41,47,39,"get"],[34,44,47,42],[34,45,47,43],[34,59,47,57],[34,60,47,58],[34,64,47,62],[34,66,47,64],[35,4,48,2],[35,10,48,8,"text"],[35,14,48,12],[35,17,48,15],[35,23,48,21,"response"],[35,31,48,29],[35,32,48,30,"text"],[35,36,48,34],[35,37,48,35],[35,38,48,36],[36,4,49,2],[36,8,49,6],[36,9,49,7,"contentType"],[36,20,49,18],[36,21,49,19,"includes"],[36,29,49,27],[36,30,49,28],[36,48,49,46],[36,49,49,47],[36,51,49,49],[37,6,50,4],[38,6,51,4],[38,10,51,8,"text"],[38,14,51,12],[38,15,51,13,"trim"],[38,19,51,17],[38,20,51,18],[38,21,51,19],[38,22,51,20,"startsWith"],[38,32,51,30],[38,33,51,31],[38,44,51,42],[38,45,51,43],[38,49,51,47,"text"],[38,53,51,51],[38,54,51,52,"trim"],[38,58,51,56],[38,59,51,57],[38,60,51,58],[38,61,51,59,"startsWith"],[38,71,51,69],[38,72,51,70],[38,79,51,77],[38,80,51,78],[38,82,51,80],[39,8,52,6],[39,14,52,12],[39,18,52,16,"Error"],[39,23,52,21],[39,24,53,8],[39,103,54,6],[39,104,54,7],[40,6,55,4],[41,6,56,4],[42,6,57,4],[42,10,57,8],[43,8,58,6],[43,15,58,13,"JSON"],[43,19,58,17],[43,20,58,18,"parse"],[43,25,58,23],[43,26,58,24,"text"],[43,30,58,28],[43,31,58,29],[44,6,59,4],[44,7,59,5],[44,8,59,6],[44,14,59,12],[45,8,60,6],[45,14,60,12],[45,18,60,16,"Error"],[45,23,60,21],[45,24,60,22],[45,54,60,52],[45,55,60,53],[46,6,61,4],[47,4,62,2],[48,4,63,2],[48,8,63,6],[49,6,64,4],[49,13,64,11,"JSON"],[49,17,64,15],[49,18,64,16,"parse"],[49,23,64,21],[49,24,64,22,"text"],[49,28,64,26],[49,29,64,27],[50,4,65,2],[50,5,65,3],[50,6,65,4],[50,12,65,10],[51,6,66,4],[51,12,66,10],[51,16,66,14,"Error"],[51,21,66,19],[51,22,66,20],[51,83,66,81],[51,84,66,82],[52,4,67,2],[53,2,68,0],[55,2,70,0],[56,2,71,7],[56,11,71,16,"AuthProvider"],[56,23,71,28,"AuthProvider"],[56,24,71,29],[57,4,71,31,"children"],[58,2,71,65],[58,3,71,66],[58,5,71,68],[59,4,71,68,"_s"],[59,6,71,68],[60,4,72,2],[60,10,72,8],[60,11,72,9,"user"],[60,15,72,13],[60,17,72,15,"setUser"],[60,24,72,22],[60,25,72,23],[60,28,72,26],[60,32,72,26,"useState"],[60,47,72,34],[60,49,72,48],[60,53,72,52],[60,54,72,53],[61,4,73,2],[61,10,73,8],[61,11,73,9,"token"],[61,16,73,14],[61,18,73,16,"setToken"],[61,26,73,24],[61,27,73,25],[61,30,73,28],[61,34,73,28,"useState"],[61,49,73,36],[61,51,73,52],[61,55,73,56],[61,56,73,57],[62,4,74,2],[62,10,74,8],[62,11,74,9,"loading"],[62,18,74,16],[62,20,74,18,"setLoading"],[62,30,74,28],[62,31,74,29],[62,34,74,32],[62,38,74,32,"useState"],[62,53,74,40],[62,55,74,41],[62,59,74,45],[62,60,74,46],[63,4,76,2],[63,10,76,8,"logout"],[63,16,76,14],[63,19,76,17],[63,23,76,17,"useCallback"],[63,41,76,28],[63,43,76,29],[63,55,76,41],[64,6,77,4],[64,10,77,8],[65,8,78,6],[65,14,78,12,"AsyncStorage"],[65,35,78,24],[65,36,78,25,"removeItem"],[65,46,78,35],[65,47,78,36],[65,59,78,48],[65,60,78,49],[66,8,79,6],[66,14,79,12,"AsyncStorage"],[66,35,79,24],[66,36,79,25,"removeItem"],[66,46,79,35],[66,47,79,36],[66,58,79,47],[66,59,79,48],[67,6,80,4],[67,7,80,5],[67,8,80,6],[67,15,80,13,"error"],[67,20,80,18],[67,22,80,20],[68,8,81,6,"console"],[68,15,81,13],[68,16,81,14,"error"],[68,21,81,19],[68,22,81,20],[68,47,81,45],[68,49,81,47,"error"],[68,54,81,52],[68,55,81,53],[69,6,82,4],[70,6,83,4,"setToken"],[70,14,83,12],[70,15,83,13],[70,19,83,17],[70,20,83,18],[71,6,84,4,"setUser"],[71,13,84,11],[71,14,84,12],[71,18,84,16],[71,19,84,17],[72,4,85,2],[72,5,85,3],[72,7,85,5],[72,9,85,7],[72,10,85,8],[73,4,87,2],[73,10,87,8,"verifyToken"],[73,21,87,19],[73,24,87,22],[73,28,87,22,"useCallback"],[73,46,87,33],[73,48,87,34],[73,54,87,41,"authToken"],[73,63,87,58],[73,67,87,63],[74,6,88,4],[74,10,88,8],[75,8,89,6],[75,14,89,12,"base"],[75,18,89,16],[75,21,89,19,"ensureBaseUrl"],[75,34,89,32],[75,35,89,33],[75,36,89,34],[76,8,90,6],[76,14,90,12,"response"],[76,22,90,20],[76,25,90,23],[76,31,90,29,"fetch"],[76,36,90,34],[76,37,90,35],[76,40,90,38,"base"],[76,44,90,42],[76,54,90,52],[76,56,90,54],[77,10,91,8,"headers"],[77,17,91,15],[77,19,91,17],[78,12,92,10,"Authorization"],[78,25,92,23],[78,27,92,25],[78,37,92,35,"authToken"],[78,46,92,44],[78,48,92,46],[79,12,93,10],[79,26,93,24],[79,28,93,26],[80,10,94,8],[81,8,95,6],[81,9,95,7],[81,10,95,8],[82,8,96,6],[82,12,96,10],[82,13,96,11,"response"],[82,21,96,19],[82,22,96,20,"ok"],[82,24,96,22],[82,26,96,24],[83,10,97,8],[83,16,97,14],[83,20,97,18,"Error"],[83,25,97,23],[83,26,97,24],[83,41,97,39],[83,42,97,40],[84,8,98,6],[85,8,99,6],[85,14,99,12,"userData"],[85,22,99,20],[85,25,99,23],[85,31,99,29,"safeParseJSON"],[85,44,99,42],[85,45,99,43,"response"],[85,53,99,51],[85,54,99,52],[86,8,100,6,"setUser"],[86,15,100,13],[86,16,100,14,"userData"],[86,24,100,22],[86,25,100,23],[87,6,101,4],[87,7,101,5],[87,8,101,6],[87,15,101,13,"error"],[87,20,101,18],[87,22,101,20],[88,8,102,6,"console"],[88,15,102,13],[88,16,102,14,"error"],[88,21,102,19],[88,22,102,20],[88,50,102,48],[88,52,102,50,"error"],[88,57,102,55],[88,58,102,56],[89,8,103,6],[89,14,103,12,"logout"],[89,20,103,18],[89,21,103,19],[89,22,103,20],[90,6,104,4],[91,4,105,2],[91,5,105,3],[91,7,105,5],[91,8,105,6,"logout"],[91,14,105,12],[91,15,105,13],[91,16,105,14],[92,4,107,2],[92,10,107,8,"loadStoredAuth"],[92,24,107,22],[92,27,107,25],[92,31,107,25,"useCallback"],[92,49,107,36],[92,51,107,37],[92,63,107,49],[93,6,108,4],[93,10,108,8],[94,8,109,6],[94,14,109,12,"storedToken"],[94,25,109,23],[94,28,109,26],[94,34,109,32,"AsyncStorage"],[94,55,109,44],[94,56,109,45,"getItem"],[94,63,109,52],[94,64,109,53],[94,76,109,65],[94,77,109,66],[95,8,110,6],[95,14,110,12,"storedUser"],[95,24,110,22],[95,27,110,25],[95,33,110,31,"AsyncStorage"],[95,54,110,43],[95,55,110,44,"getItem"],[95,62,110,51],[95,63,110,52],[95,74,110,63],[95,75,110,64],[96,8,112,6],[96,12,112,10,"storedToken"],[96,23,112,21],[96,27,112,25,"storedUser"],[96,37,112,35],[96,39,112,37],[97,10,113,8,"setToken"],[97,18,113,16],[97,19,113,17,"storedToken"],[97,30,113,28],[97,31,113,29],[98,10,114,8,"setUser"],[98,17,114,15],[98,18,114,16,"JSON"],[98,22,114,20],[98,23,114,21,"parse"],[98,28,114,26],[98,29,114,27,"storedUser"],[98,39,114,37],[98,40,114,38],[98,41,114,39],[100,10,116,8],[101,10,117,8],[101,16,117,14,"verifyToken"],[101,27,117,25],[101,28,117,26,"storedToken"],[101,39,117,37],[101,40,117,38],[102,8,118,6],[103,6,119,4],[103,7,119,5],[103,8,119,6],[103,15,119,13,"error"],[103,20,119,18],[103,22,119,20],[104,8,120,6,"console"],[104,15,120,13],[104,16,120,14,"error"],[104,21,120,19],[104,22,120,20],[104,50,120,48],[104,52,120,50,"error"],[104,57,120,55],[104,58,120,56],[105,8,121,6],[105,14,121,12,"logout"],[105,20,121,18],[105,21,121,19],[105,22,121,20],[106,6,122,4],[106,7,122,5],[106,16,122,14],[107,8,123,6,"setLoading"],[107,18,123,16],[107,19,123,17],[107,24,123,22],[107,25,123,23],[108,6,124,4],[109,4,125,2],[109,5,125,3],[109,7,125,5],[109,8,125,6,"verifyToken"],[109,19,125,17],[109,21,125,19,"logout"],[109,27,125,25],[109,28,125,26],[109,29,125,27],[111,4,127,2],[112,4,128,2],[112,8,128,2,"useEffect"],[112,24,128,11],[112,26,128,12],[112,32,128,18],[113,6,129,4,"loadStoredAuth"],[113,20,129,18],[113,21,129,19],[113,22,129,20],[114,4,130,2],[114,5,130,3],[114,7,130,5],[114,8,130,6,"loadStoredAuth"],[114,22,130,20],[114,23,130,21],[114,24,130,22],[116,4,132,2],[118,4,134,2],[118,10,134,8,"login"],[118,15,134,13],[118,18,134,16],[118,24,134,16,"login"],[118,25,134,23,"email"],[118,30,134,36],[118,32,134,38,"password"],[118,40,134,54],[118,45,134,59],[119,6,135,4],[119,10,135,8],[120,8,136,6],[120,14,136,12,"base"],[120,18,136,16],[120,21,136,19,"ensureBaseUrl"],[120,34,136,32],[120,35,136,33],[120,36,136,34],[121,8,137,6],[122,8,138,6],[122,14,138,12,"response"],[122,22,138,20],[122,25,138,23],[122,31,138,29,"fetch"],[122,36,138,34],[122,37,138,35],[122,40,138,38,"base"],[122,44,138,42],[122,57,138,55],[122,59,138,57],[123,10,139,8,"method"],[123,16,139,14],[123,18,139,16],[123,24,139,22],[124,10,140,8,"headers"],[124,17,140,15],[124,19,140,17],[125,12,141,10],[125,26,141,24],[125,28,141,26],[126,10,142,8],[126,11,142,9],[127,10,143,8,"body"],[127,14,143,12],[127,16,143,14,"JSON"],[127,20,143,18],[127,21,143,19,"stringify"],[127,30,143,28],[127,31,143,29],[128,12,143,31,"username"],[128,20,143,39],[128,22,143,41,"email"],[128,27,143,46],[129,12,143,48,"password"],[130,10,143,57],[130,11,143,58],[131,8,144,6],[131,9,144,7],[131,10,144,8],[132,8,146,6],[132,12,146,10,"data"],[132,16,146,19],[133,8,147,6],[133,12,147,10],[134,10,148,8,"data"],[134,14,148,12],[134,17,148,15],[134,23,148,21,"safeParseJSON"],[134,36,148,34],[134,37,148,35,"response"],[134,45,148,43],[134,46,148,44],[135,8,149,6],[135,9,149,7],[135,10,149,8],[135,17,149,15,"parseErr"],[135,25,149,28],[135,27,149,30],[136,10,150,8],[136,16,150,14],[136,20,150,18,"Error"],[136,25,150,23],[136,26,150,24,"parseErr"],[136,34,150,32],[136,35,150,33,"message"],[136,42,150,40],[136,46,150,44],[136,73,150,71],[136,74,150,72],[137,8,151,6],[138,8,153,6],[138,12,153,10],[138,13,153,11,"response"],[138,21,153,19],[138,22,153,20,"ok"],[138,24,153,22],[138,26,153,24],[139,10,154,8],[139,16,154,14],[139,20,154,18,"Error"],[139,25,154,23],[139,26,154,24,"data"],[139,30,154,28],[139,32,154,30,"detail"],[139,38,154,36],[139,42,154,40],[139,67,154,65],[139,68,154,66],[140,8,155,6],[142,8,157,6],[143,8,158,6],[143,14,158,12,"synthesizedUser"],[143,29,158,33],[143,32,158,36],[144,10,159,8,"id"],[144,12,159,10],[144,14,159,12,"data"],[144,18,159,16],[144,19,159,17,"user"],[144,23,159,21],[144,25,159,23,"id"],[144,27,159,25],[144,31,159,29,"email"],[144,36,159,34],[145,10,160,8,"email"],[145,15,160,13],[146,10,161,8,"name"],[146,14,161,12],[146,16,161,14,"data"],[146,20,161,18],[146,21,161,19,"user"],[146,25,161,23],[146,27,161,25,"name"],[146,31,161,29],[146,35,161,33,"email"],[146,40,161,38],[146,41,161,39,"split"],[146,46,161,44],[146,47,161,45],[146,50,161,48],[146,51,161,49],[146,52,161,50],[146,53,161,51],[146,54,161,52],[147,10,162,8,"has_gemini_key"],[147,24,162,22],[147,26,162,24,"data"],[147,30,162,28],[147,31,162,29,"user"],[147,35,162,33],[147,37,162,35,"has_gemini_key"],[147,51,162,49],[147,55,162,53],[148,8,163,6],[148,9,163,7],[149,8,165,6],[149,14,165,12,"AsyncStorage"],[149,35,165,24],[149,36,165,25,"setItem"],[149,43,165,32],[149,44,165,33],[149,56,165,45],[149,58,165,47,"data"],[149,62,165,51],[149,63,165,52,"access_token"],[149,75,165,64],[149,76,165,65],[150,8,166,6],[150,14,166,12,"AsyncStorage"],[150,35,166,24],[150,36,166,25,"setItem"],[150,43,166,32],[150,44,166,33],[150,55,166,44],[150,57,166,46,"JSON"],[150,61,166,50],[150,62,166,51,"stringify"],[150,71,166,60],[150,72,166,61,"synthesizedUser"],[150,87,166,76],[150,88,166,77],[150,89,166,78],[151,8,168,6,"setToken"],[151,16,168,14],[151,17,168,15,"data"],[151,21,168,19],[151,22,168,20,"access_token"],[151,34,168,32],[151,35,168,33],[152,8,169,6,"setUser"],[152,15,169,13],[152,16,169,14,"synthesizedUser"],[152,31,169,29],[152,32,169,30],[153,6,170,4],[153,7,170,5],[153,8,170,6],[153,15,170,13,"error"],[153,20,170,23],[153,22,170,25],[154,8,171,6],[154,14,171,12],[154,18,171,16,"Error"],[154,23,171,21],[154,24,171,22,"error"],[154,29,171,27],[154,30,171,28,"message"],[154,37,171,35],[154,41,171,39],[154,60,171,58],[154,61,171,59],[155,6,172,4],[156,4,173,2],[156,5,173,3],[157,4,175,2],[157,10,175,8,"register"],[157,18,175,16],[157,21,175,19],[157,27,175,19,"register"],[157,28,175,26,"email"],[157,33,175,39],[157,35,175,41,"password"],[157,43,175,57],[157,45,175,59,"name"],[157,49,175,71],[157,54,175,76],[158,6,176,4],[158,10,176,8],[159,8,177,6],[159,14,177,12,"base"],[159,18,177,16],[159,21,177,19,"ensureBaseUrl"],[159,34,177,32],[159,35,177,33],[159,36,177,34],[160,8,178,6],[161,8,179,6],[161,14,179,12,"response"],[161,22,179,20],[161,25,179,23],[161,31,179,29,"fetch"],[161,36,179,34],[161,37,179,35],[161,40,179,38,"base"],[161,44,179,42],[161,60,179,58],[161,62,179,60],[162,10,180,8,"method"],[162,16,180,14],[162,18,180,16],[162,24,180,22],[163,10,181,8,"headers"],[163,17,181,15],[163,19,181,17],[164,12,182,10],[164,26,182,24],[164,28,182,26],[165,10,183,8],[165,11,183,9],[166,10,184,8,"body"],[166,14,184,12],[166,16,184,14,"JSON"],[166,20,184,18],[166,21,184,19,"stringify"],[166,30,184,28],[166,31,184,29],[167,12,184,31,"username"],[167,20,184,39],[167,22,184,41,"name"],[167,26,184,45],[167,27,184,46,"trim"],[167,31,184,50],[167,32,184,51],[167,33,184,52],[167,37,184,56,"email"],[167,42,184,61],[167,43,184,62,"split"],[167,48,184,67],[167,49,184,68],[167,52,184,71],[167,53,184,72],[167,54,184,73],[167,55,184,74],[167,56,184,75],[168,12,184,77,"email"],[168,17,184,82],[169,12,184,84,"password"],[170,10,184,93],[170,11,184,94],[171,8,185,6],[171,9,185,7],[171,10,185,8],[172,8,187,6],[172,12,187,10,"data"],[172,16,187,19],[173,8,188,6],[173,12,188,10],[174,10,189,8,"data"],[174,14,189,12],[174,17,189,15],[174,23,189,21,"safeParseJSON"],[174,36,189,34],[174,37,189,35,"response"],[174,45,189,43],[174,46,189,44],[175,8,190,6],[175,9,190,7],[175,10,190,8],[175,17,190,15,"parseErr"],[175,25,190,28],[175,27,190,30],[176,10,191,8],[176,16,191,14],[176,20,191,18,"Error"],[176,25,191,23],[176,26,191,24,"parseErr"],[176,34,191,32],[176,35,191,33,"message"],[176,42,191,40],[176,46,191,44],[176,73,191,71],[176,74,191,72],[177,8,192,6],[178,8,194,6],[178,12,194,10],[178,13,194,11,"response"],[178,21,194,19],[178,22,194,20,"ok"],[178,24,194,22],[178,26,194,24],[179,10,195,8],[179,16,195,14],[179,20,195,18,"Error"],[179,25,195,23],[179,26,195,24,"data"],[179,30,195,28],[179,32,195,30,"detail"],[179,38,195,36],[179,42,195,40],[179,64,195,62],[179,65,195,63],[180,8,196,6],[181,8,198,6],[181,14,198,12,"synthesizedUser"],[181,29,198,33],[181,32,198,36],[182,10,199,8,"id"],[182,12,199,10],[182,14,199,12,"data"],[182,18,199,16],[182,19,199,17,"user"],[182,23,199,21],[182,25,199,23,"id"],[182,27,199,25],[182,31,199,29,"email"],[182,36,199,34],[183,10,200,8,"email"],[183,15,200,13],[184,10,201,8,"name"],[184,14,201,12],[184,16,201,14,"name"],[184,20,201,18],[184,24,201,22,"email"],[184,29,201,27],[184,30,201,28,"split"],[184,35,201,33],[184,36,201,34],[184,39,201,37],[184,40,201,38],[184,41,201,39],[184,42,201,40],[184,43,201,41],[185,10,202,8,"has_gemini_key"],[185,24,202,22],[185,26,202,24],[186,8,203,6],[186,9,203,7],[187,8,205,6],[187,14,205,12,"AsyncStorage"],[187,35,205,24],[187,36,205,25,"setItem"],[187,43,205,32],[187,44,205,33],[187,56,205,45],[187,58,205,47,"data"],[187,62,205,51],[187,63,205,52,"access_token"],[187,75,205,64],[187,76,205,65],[188,8,206,6],[188,14,206,12,"AsyncStorage"],[188,35,206,24],[188,36,206,25,"setItem"],[188,43,206,32],[188,44,206,33],[188,55,206,44],[188,57,206,46,"JSON"],[188,61,206,50],[188,62,206,51,"stringify"],[188,71,206,60],[188,72,206,61,"synthesizedUser"],[188,87,206,76],[188,88,206,77],[188,89,206,78],[189,8,208,6,"setToken"],[189,16,208,14],[189,17,208,15,"data"],[189,21,208,19],[189,22,208,20,"access_token"],[189,34,208,32],[189,35,208,33],[190,8,209,6,"setUser"],[190,15,209,13],[190,16,209,14,"synthesizedUser"],[190,31,209,29],[190,32,209,30],[191,6,210,4],[191,7,210,5],[191,8,210,6],[191,15,210,13,"error"],[191,20,210,23],[191,22,210,25],[192,8,211,6],[192,14,211,12],[192,18,211,16,"Error"],[192,23,211,21],[192,24,211,22,"error"],[192,29,211,27],[192,30,211,28,"message"],[192,37,211,35],[192,41,211,39],[192,60,211,58],[192,61,211,59],[193,6,212,4],[194,4,213,2],[194,5,213,3],[196,4,215,2],[198,4,217,2],[198,10,217,8,"updateUser"],[198,20,217,18],[198,23,217,22,"userData"],[198,31,217,45],[198,35,217,50],[199,6,218,4],[199,10,218,8,"user"],[199,14,218,12],[199,16,218,14],[200,8,219,6],[200,14,219,12,"updatedUser"],[200,25,219,23],[200,28,219,23,"Object"],[200,34,219,23],[200,35,219,23,"assign"],[200,41,219,23],[200,46,219,31,"user"],[200,50,219,35],[200,52,219,40,"userData"],[200,60,219,48],[200,61,219,50],[201,8,220,6,"setUser"],[201,15,220,13],[201,16,220,14,"updatedUser"],[201,27,220,25],[201,28,220,26],[202,8,221,6,"AsyncStorage"],[202,29,221,18],[202,30,221,19,"setItem"],[202,37,221,26],[202,38,221,27],[202,49,221,38],[202,51,221,40,"JSON"],[202,55,221,44],[202,56,221,45,"stringify"],[202,65,221,54],[202,66,221,55,"updatedUser"],[202,77,221,66],[202,78,221,67],[202,79,221,68],[203,6,222,4],[204,4,223,2],[204,5,223,3],[205,4,225,2],[205,10,225,8,"value"],[205,15,225,30],[205,18,225,33],[206,6,226,4,"user"],[206,10,226,8],[207,6,227,4,"token"],[207,11,227,9],[208,6,228,4,"loading"],[208,13,228,11],[209,6,229,4,"login"],[209,11,229,9],[210,6,230,4,"register"],[210,14,230,12],[211,6,231,4,"logout"],[211,12,231,10],[212,6,232,4,"updateUser"],[213,4,233,2],[213,5,233,3],[214,4,235,2],[214,24,236,4],[214,28,236,4,"_jsxDevRuntime"],[214,42,236,4],[214,43,236,4,"jsxDEV"],[214,49,236,4],[214,51,236,5,"AuthContext"],[214,62,236,16],[214,63,236,17,"Provider"],[214,71,236,25],[215,6,236,26,"value"],[215,11,236,31],[215,13,236,33,"value"],[215,18,236,39],[216,6,236,39,"children"],[216,14,236,39],[216,16,237,7,"children"],[217,4,237,15],[218,6,237,15,"fileName"],[218,14,237,15],[218,16,237,15,"_jsxFileName"],[218,28,237,15],[219,6,237,15,"lineNumber"],[219,16,237,15],[220,6,237,15,"columnNumber"],[220,18,237,15],[221,4,237,15],[221,11,238,26],[221,12,238,27],[222,2,240,0],[224,2,242,0],[225,2,242,0,"_s"],[225,4,242,0],[225,5,71,16,"AuthProvider"],[225,17,71,28],[226,2,71,28,"_c"],[226,4,71,28],[226,7,71,16,"AuthProvider"],[226,19,71,28],[227,2,243,7],[227,11,243,16,"useAuth"],[227,18,243,23,"useAuth"],[227,19,243,23],[227,21,243,26],[228,4,243,26,"_s2"],[228,7,243,26],[229,4,244,2],[229,10,244,8,"context"],[229,17,244,15],[229,20,244,18],[229,24,244,18,"useContext"],[229,41,244,28],[229,43,244,29,"AuthContext"],[229,54,244,40],[229,55,244,41],[230,4,245,2],[230,8,245,6,"context"],[230,15,245,13],[230,20,245,18,"undefined"],[230,29,245,27],[230,31,245,29],[231,6,246,4],[231,12,246,10],[231,16,246,14,"Error"],[231,21,246,19],[231,22,246,20],[231,67,246,65],[231,68,246,66],[232,4,247,2],[233,4,248,2],[233,11,248,9,"context"],[233,18,248,16],[234,2,249,0],[235,2,249,1,"_s2"],[235,5,249,1],[235,6,243,16,"useAuth"],[235,13,243,23],[236,2,243,23],[236,6,243,23,"_c"],[236,8,243,23],[237,2,243,23,"$RefreshReg$"],[237,14,243,23],[237,15,243,23,"_c"],[237,17,243,23],[238,0,243,23],[238,3]],"functionMap":{"names":["<global>","ensureBaseUrl","safeParseJSON","AuthProvider","logout","verifyToken","loadStoredAuth","useEffect$argument_0","login","register","updateUser","useAuth"],"mappings":"AAA;ACoC;CDO;AEE;CFsB;OGG;6BCK;GDS;kCEE;GFkB;qCGE;GHkB;YIG;GJE;gBKI;GLuC;mBME;GNsC;qBOI;GPM;CHiB;OWG"}},"type":"js/module"}]}