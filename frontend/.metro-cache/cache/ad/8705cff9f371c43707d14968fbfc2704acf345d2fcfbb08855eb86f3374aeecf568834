{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"]}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"]}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":70},"end":{"line":2,"column":39,"index":109}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"]}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":110},"end":{"line":3,"column":102,"index":212}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"]}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _asyncStorage = _interopRequireDefault(require(_dependencyMap[1], \"@react-native-async-storage/async-storage\"));\n  var _expoConstants = _interopRequireDefault(require(_dependencyMap[2], \"expo-constants\"));\n  var _react = _interopRequireWildcard(require(_dependencyMap[3], \"react\"));\n  var _jsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/workspaces/Health-Tracker/frontend/context/AuthContext.tsx\"; // Types\n  function _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function (e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (const t in e) \"default\" !== t && {}.hasOwnProperty.call(e, t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, t)) && (i.get || i.set) ? o(f, t, i) : f[t] = e[t]); return f; })(e, t); }\n  // Create context\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n\n  // API Base URL resolution strategy (orden de prioridad):\n  // 1. process.env.EXPO_PUBLIC_BACKEND_URL (inyectada por Expo en tiempo de build)\n  // 2. Constants.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL (app.json / app.config.*)\n  // 3. Fallback constante definido aquí (Codespaces actual)\n  const DEFAULT_BACKEND_URL = 'https://fantastic-train-rxwxqr7g55xcww9v-8000.app.github.dev';\n  const RESOLVED_BACKEND_URL = typeof process !== 'undefined' && process?.env?.EXPO_PUBLIC_BACKEND_URL || _expoConstants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || DEFAULT_BACKEND_URL;\n  function ensureBaseUrl() {\n    if (!RESOLVED_BACKEND_URL) {\n      // Último recurso: se retorna fallback y se avisa por consola en lugar de lanzar.\n      console.warn('[Auth] Backend URL no encontrada, usando fallback DEFAULT_BACKEND_URL');\n      return DEFAULT_BACKEND_URL;\n    }\n    return RESOLVED_BACKEND_URL.replace(/\\/$/, '');\n  }\n  async function safeParseJSON(response) {\n    const contentType = response.headers.get('content-type') || '';\n    const text = await response.text();\n    if (!contentType.includes('application/json')) {\n      // Intentar detectar HTML dev server / error proxy\n      if (text.trim().startsWith('<!DOCTYPE') || text.trim().startsWith('<html')) {\n        throw new Error('El servidor devolvió HTML en lugar de JSON. Revisa la URL del backend o CORS.');\n      }\n      // Intento final: tratar de parsear aunque no haya content-type adecuado\n      try {\n        return JSON.parse(text);\n      } catch {\n        throw new Error('Respuesta no es JSON válido.');\n      }\n    }\n    try {\n      return JSON.parse(text);\n    } catch {\n      throw new Error('No se pudo parsear JSON (posible HTML o error de servidor).');\n    }\n  }\n\n  // Auth Provider Component\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const logout = (0, _react.useCallback)(async () => {\n      try {\n        await _asyncStorage.default.removeItem('auth_token');\n        await _asyncStorage.default.removeItem('user_data');\n      } catch (error) {\n        console.error('Error clearing storage:', error);\n      }\n      setToken(null);\n      setUser(null);\n    }, []);\n    const verifyToken = (0, _react.useCallback)(async authToken => {\n      try {\n        const base = ensureBaseUrl();\n        const response = await fetch(`${base}/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error('Token invalid');\n        }\n        const userData = await safeParseJSON(response);\n        setUser(userData);\n      } catch (error) {\n        console.error('Token verification failed:', error);\n        await logout();\n      }\n    }, [logout]);\n    const loadStoredAuth = (0, _react.useCallback)(async () => {\n      try {\n        const storedToken = await _asyncStorage.default.getItem('auth_token');\n        const storedUser = await _asyncStorage.default.getItem('user_data');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n\n          // Verify token is still valid\n          await verifyToken(storedToken);\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n        await logout();\n      } finally {\n        setLoading(false);\n      }\n    }, [verifyToken, logout]);\n\n    // Load stored auth data on app start\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, [loadStoredAuth]);\n\n    // (verifyToken ya definido arriba con useCallback)\n\n    const login = async (email, password) => {\n      try {\n        const base = ensureBaseUrl();\n        // El backend actual espera username/password en /auth/login\n        const response = await fetch(`${base}/auth/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: email,\n            password\n          })\n        });\n        let data;\n        try {\n          data = await safeParseJSON(response);\n        } catch (parseErr) {\n          throw new Error(parseErr.message || 'Error parseando respuesta');\n        }\n        if (!response.ok) {\n          throw new Error(data?.detail || 'Error al iniciar sesión');\n        }\n\n        // El backend no devuelve user, así que lo sintetizamos\n        const synthesizedUser = {\n          id: data.user?.id || email,\n          email,\n          name: data.user?.name || email.split('@')[0],\n          has_gemini_key: data.user?.has_gemini_key ?? false\n        };\n        await _asyncStorage.default.setItem('auth_token', data.access_token);\n        await _asyncStorage.default.setItem('user_data', JSON.stringify(synthesizedUser));\n        setToken(data.access_token);\n        setUser(synthesizedUser);\n      } catch (error) {\n        throw new Error(error.message || 'Error de conexión');\n      }\n    };\n    const register = async (email, password, name) => {\n      try {\n        const base = ensureBaseUrl();\n        // Backend /auth/register espera: username, email, password\n        const response = await fetch(`${base}/auth/register`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: name.trim() || email.split('@')[0],\n            email,\n            password\n          })\n        });\n        let data;\n        try {\n          data = await safeParseJSON(response);\n        } catch (parseErr) {\n          throw new Error(parseErr.message || 'Error parseando respuesta');\n        }\n        if (!response.ok) {\n          throw new Error(data?.detail || 'Error al registrarse');\n        }\n        const synthesizedUser = {\n          id: data.user?.id || email,\n          email,\n          name: name || email.split('@')[0],\n          has_gemini_key: false\n        };\n        await _asyncStorage.default.setItem('auth_token', data.access_token);\n        await _asyncStorage.default.setItem('user_data', JSON.stringify(synthesizedUser));\n        setToken(data.access_token);\n        setUser(synthesizedUser);\n      } catch (error) {\n        throw new Error(error.message || 'Error de conexión');\n      }\n    };\n\n    // (logout ya definido arriba con useCallback)\n\n    const updateUser = userData => {\n      if (user) {\n        const updatedUser = {\n          ...user,\n          ...userData\n        };\n        setUser(updatedUser);\n        _asyncStorage.default.setItem('user_data', JSON.stringify(updatedUser));\n      }\n    };\n    const value = {\n      user,\n      token,\n      loading,\n      login,\n      register,\n      logout,\n      updateUser\n    };\n    return /*#__PURE__*/(0, _jsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 5\n    }, this);\n  }\n\n  // Hook to use auth context\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":232,"map":[[8,2,1,0],[8,6,1,0,"_asyncStorage"],[8,19,1,0],[8,22,1,0,"_interopRequireDefault"],[8,44,1,0],[8,45,1,0,"require"],[8,52,1,0],[8,53,1,0,"_dependencyMap"],[8,67,1,0],[9,2,2,0],[9,6,2,0,"_expoConstants"],[9,20,2,0],[9,23,2,0,"_interopRequireDefault"],[9,45,2,0],[9,46,2,0,"require"],[9,53,2,0],[9,54,2,0,"_dependencyMap"],[9,68,2,0],[10,2,3,0],[10,6,3,0,"_react"],[10,12,3,0],[10,15,3,0,"_interopRequireWildcard"],[10,38,3,0],[10,39,3,0,"require"],[10,46,3,0],[10,47,3,0,"_dependencyMap"],[10,61,3,0],[11,2,3,102],[11,6,3,102,"_jsxDevRuntime"],[11,20,3,102],[11,23,3,102,"require"],[11,30,3,102],[11,31,3,102,"_dependencyMap"],[11,45,3,102],[12,2,3,102],[12,6,3,102,"_jsxFileName"],[12,18,3,102],[12,84,5,0],[13,2,5,0],[13,11,5,0,"_interopRequireWildcard"],[13,35,5,0,"e"],[13,36,5,0],[13,38,5,0,"t"],[13,39,5,0],[13,68,5,0,"WeakMap"],[13,75,5,0],[13,81,5,0,"r"],[13,82,5,0],[13,89,5,0,"WeakMap"],[13,96,5,0],[13,100,5,0,"n"],[13,101,5,0],[13,108,5,0,"WeakMap"],[13,115,5,0],[13,127,5,0,"_interopRequireWildcard"],[13,150,5,0],[13,162,5,0,"_interopRequireWildcard"],[13,163,5,0,"e"],[13,164,5,0],[13,166,5,0,"t"],[13,167,5,0],[13,176,5,0,"t"],[13,177,5,0],[13,181,5,0,"e"],[13,182,5,0],[13,186,5,0,"e"],[13,187,5,0],[13,188,5,0,"__esModule"],[13,198,5,0],[13,207,5,0,"e"],[13,208,5,0],[13,214,5,0,"o"],[13,215,5,0],[13,217,5,0,"i"],[13,218,5,0],[13,220,5,0,"f"],[13,221,5,0],[13,226,5,0,"__proto__"],[13,235,5,0],[13,243,5,0,"default"],[13,250,5,0],[13,252,5,0,"e"],[13,253,5,0],[13,270,5,0,"e"],[13,271,5,0],[13,294,5,0,"e"],[13,295,5,0],[13,320,5,0,"e"],[13,321,5,0],[13,330,5,0,"f"],[13,331,5,0],[13,337,5,0,"o"],[13,338,5,0],[13,341,5,0,"t"],[13,342,5,0],[13,345,5,0,"n"],[13,346,5,0],[13,349,5,0,"r"],[13,350,5,0],[13,358,5,0,"o"],[13,359,5,0],[13,360,5,0,"has"],[13,363,5,0],[13,364,5,0,"e"],[13,365,5,0],[13,375,5,0,"o"],[13,376,5,0],[13,377,5,0,"get"],[13,380,5,0],[13,381,5,0,"e"],[13,382,5,0],[13,385,5,0,"o"],[13,386,5,0],[13,387,5,0,"set"],[13,390,5,0],[13,391,5,0,"e"],[13,392,5,0],[13,394,5,0,"f"],[13,395,5,0],[13,411,5,0,"t"],[13,412,5,0],[13,416,5,0,"e"],[13,417,5,0],[13,433,5,0,"t"],[13,434,5,0],[13,441,5,0,"hasOwnProperty"],[13,455,5,0],[13,456,5,0,"call"],[13,460,5,0],[13,461,5,0,"e"],[13,462,5,0],[13,464,5,0,"t"],[13,465,5,0],[13,472,5,0,"i"],[13,473,5,0],[13,477,5,0,"o"],[13,478,5,0],[13,481,5,0,"Object"],[13,487,5,0],[13,488,5,0,"defineProperty"],[13,502,5,0],[13,507,5,0,"Object"],[13,513,5,0],[13,514,5,0,"getOwnPropertyDescriptor"],[13,538,5,0],[13,539,5,0,"e"],[13,540,5,0],[13,542,5,0,"t"],[13,543,5,0],[13,550,5,0,"i"],[13,551,5,0],[13,552,5,0,"get"],[13,555,5,0],[13,559,5,0,"i"],[13,560,5,0],[13,561,5,0,"set"],[13,564,5,0],[13,568,5,0,"o"],[13,569,5,0],[13,570,5,0,"f"],[13,571,5,0],[13,573,5,0,"t"],[13,574,5,0],[13,576,5,0,"i"],[13,577,5,0],[13,581,5,0,"f"],[13,582,5,0],[13,583,5,0,"t"],[13,584,5,0],[13,588,5,0,"e"],[13,589,5,0],[13,590,5,0,"t"],[13,591,5,0],[13,602,5,0,"f"],[13,603,5,0],[13,608,5,0,"e"],[13,609,5,0],[13,611,5,0,"t"],[13,612,5,0],[14,2,23,0],[15,2,24,0],[15,8,24,6,"AuthContext"],[15,19,24,17],[15,35,24,20],[15,39,24,20,"createContext"],[15,59,24,33],[15,61,24,63,"undefined"],[15,70,24,72],[15,71,24,73],[17,2,26,0],[18,2,27,0],[19,2,28,0],[20,2,29,0],[21,2,30,0],[21,8,30,6,"DEFAULT_BACKEND_URL"],[21,27,30,25],[21,30,30,28],[21,92,30,90],[22,2,31,0],[22,8,31,6,"RESOLVED_BACKEND_URL"],[22,28,31,26],[22,31,32,3],[22,38,32,10,"process"],[22,45,32,17],[22,50,32,22],[22,61,32,33],[22,65,32,38,"process"],[22,72,32,45],[22,74,32,55,"env"],[22,77,32,58],[22,79,32,60,"EXPO_PUBLIC_BACKEND_URL"],[22,102,32,83],[22,106,33,2,"Constants"],[22,128,33,11],[22,129,33,12,"expoConfig"],[22,139,33,22],[22,141,33,24,"extra"],[22,146,33,29],[22,148,33,31,"EXPO_PUBLIC_BACKEND_URL"],[22,171,33,54],[22,175,34,2,"DEFAULT_BACKEND_URL"],[22,194,35,1],[23,2,37,0],[23,11,37,9,"ensureBaseUrl"],[23,24,37,22,"ensureBaseUrl"],[23,25,37,22],[23,27,37,33],[24,4,38,2],[24,8,38,6],[24,9,38,7,"RESOLVED_BACKEND_URL"],[24,29,38,27],[24,31,38,29],[25,6,39,4],[26,6,40,4,"console"],[26,13,40,11],[26,14,40,12,"warn"],[26,18,40,16],[26,19,40,17],[26,90,40,88],[26,91,40,89],[27,6,41,4],[27,13,41,11,"DEFAULT_BACKEND_URL"],[27,32,41,30],[28,4,42,2],[29,4,43,2],[29,11,43,9,"RESOLVED_BACKEND_URL"],[29,31,43,29],[29,32,43,30,"replace"],[29,39,43,37],[29,40,43,38],[29,45,43,43],[29,47,43,45],[29,49,43,47],[29,50,43,48],[30,2,44,0],[31,2,46,0],[31,17,46,15,"safeParseJSON"],[31,30,46,28,"safeParseJSON"],[31,31,46,29,"response"],[31,39,46,47],[31,41,46,49],[32,4,47,2],[32,10,47,8,"contentType"],[32,21,47,19],[32,24,47,22,"response"],[32,32,47,30],[32,33,47,31,"headers"],[32,40,47,38],[32,41,47,39,"get"],[32,44,47,42],[32,45,47,43],[32,59,47,57],[32,60,47,58],[32,64,47,62],[32,66,47,64],[33,4,48,2],[33,10,48,8,"text"],[33,14,48,12],[33,17,48,15],[33,23,48,21,"response"],[33,31,48,29],[33,32,48,30,"text"],[33,36,48,34],[33,37,48,35],[33,38,48,36],[34,4,49,2],[34,8,49,6],[34,9,49,7,"contentType"],[34,20,49,18],[34,21,49,19,"includes"],[34,29,49,27],[34,30,49,28],[34,48,49,46],[34,49,49,47],[34,51,49,49],[35,6,50,4],[36,6,51,4],[36,10,51,8,"text"],[36,14,51,12],[36,15,51,13,"trim"],[36,19,51,17],[36,20,51,18],[36,21,51,19],[36,22,51,20,"startsWith"],[36,32,51,30],[36,33,51,31],[36,44,51,42],[36,45,51,43],[36,49,51,47,"text"],[36,53,51,51],[36,54,51,52,"trim"],[36,58,51,56],[36,59,51,57],[36,60,51,58],[36,61,51,59,"startsWith"],[36,71,51,69],[36,72,51,70],[36,79,51,77],[36,80,51,78],[36,82,51,80],[37,8,52,6],[37,14,52,12],[37,18,52,16,"Error"],[37,23,52,21],[37,24,53,8],[37,103,54,6],[37,104,54,7],[38,6,55,4],[39,6,56,4],[40,6,57,4],[40,10,57,8],[41,8,58,6],[41,15,58,13,"JSON"],[41,19,58,17],[41,20,58,18,"parse"],[41,25,58,23],[41,26,58,24,"text"],[41,30,58,28],[41,31,58,29],[42,6,59,4],[42,7,59,5],[42,8,59,6],[42,14,59,12],[43,8,60,6],[43,14,60,12],[43,18,60,16,"Error"],[43,23,60,21],[43,24,60,22],[43,54,60,52],[43,55,60,53],[44,6,61,4],[45,4,62,2],[46,4,63,2],[46,8,63,6],[47,6,64,4],[47,13,64,11,"JSON"],[47,17,64,15],[47,18,64,16,"parse"],[47,23,64,21],[47,24,64,22,"text"],[47,28,64,26],[47,29,64,27],[48,4,65,2],[48,5,65,3],[48,6,65,4],[48,12,65,10],[49,6,66,4],[49,12,66,10],[49,16,66,14,"Error"],[49,21,66,19],[49,22,66,20],[49,83,66,81],[49,84,66,82],[50,4,67,2],[51,2,68,0],[53,2,70,0],[54,2,71,7],[54,11,71,16,"AuthProvider"],[54,23,71,28,"AuthProvider"],[54,24,71,29],[55,4,71,31,"children"],[56,2,71,65],[56,3,71,66],[56,5,71,68],[57,4,72,2],[57,10,72,8],[57,11,72,9,"user"],[57,15,72,13],[57,17,72,15,"setUser"],[57,24,72,22],[57,25,72,23],[57,28,72,26],[57,32,72,26,"useState"],[57,47,72,34],[57,49,72,48],[57,53,72,52],[57,54,72,53],[58,4,73,2],[58,10,73,8],[58,11,73,9,"token"],[58,16,73,14],[58,18,73,16,"setToken"],[58,26,73,24],[58,27,73,25],[58,30,73,28],[58,34,73,28,"useState"],[58,49,73,36],[58,51,73,52],[58,55,73,56],[58,56,73,57],[59,4,74,2],[59,10,74,8],[59,11,74,9,"loading"],[59,18,74,16],[59,20,74,18,"setLoading"],[59,30,74,28],[59,31,74,29],[59,34,74,32],[59,38,74,32,"useState"],[59,53,74,40],[59,55,74,41],[59,59,74,45],[59,60,74,46],[60,4,76,2],[60,10,76,8,"logout"],[60,16,76,14],[60,19,76,17],[60,23,76,17,"useCallback"],[60,41,76,28],[60,43,76,29],[60,55,76,41],[61,6,77,4],[61,10,77,8],[62,8,78,6],[62,14,78,12,"AsyncStorage"],[62,35,78,24],[62,36,78,25,"removeItem"],[62,46,78,35],[62,47,78,36],[62,59,78,48],[62,60,78,49],[63,8,79,6],[63,14,79,12,"AsyncStorage"],[63,35,79,24],[63,36,79,25,"removeItem"],[63,46,79,35],[63,47,79,36],[63,58,79,47],[63,59,79,48],[64,6,80,4],[64,7,80,5],[64,8,80,6],[64,15,80,13,"error"],[64,20,80,18],[64,22,80,20],[65,8,81,6,"console"],[65,15,81,13],[65,16,81,14,"error"],[65,21,81,19],[65,22,81,20],[65,47,81,45],[65,49,81,47,"error"],[65,54,81,52],[65,55,81,53],[66,6,82,4],[67,6,83,4,"setToken"],[67,14,83,12],[67,15,83,13],[67,19,83,17],[67,20,83,18],[68,6,84,4,"setUser"],[68,13,84,11],[68,14,84,12],[68,18,84,16],[68,19,84,17],[69,4,85,2],[69,5,85,3],[69,7,85,5],[69,9,85,7],[69,10,85,8],[70,4,87,2],[70,10,87,8,"verifyToken"],[70,21,87,19],[70,24,87,22],[70,28,87,22,"useCallback"],[70,46,87,33],[70,48,87,34],[70,54,87,41,"authToken"],[70,63,87,58],[70,67,87,63],[71,6,88,4],[71,10,88,8],[72,8,89,6],[72,14,89,12,"base"],[72,18,89,16],[72,21,89,19,"ensureBaseUrl"],[72,34,89,32],[72,35,89,33],[72,36,89,34],[73,8,90,6],[73,14,90,12,"response"],[73,22,90,20],[73,25,90,23],[73,31,90,29,"fetch"],[73,36,90,34],[73,37,90,35],[73,40,90,38,"base"],[73,44,90,42],[73,54,90,52],[73,56,90,54],[74,10,91,8,"headers"],[74,17,91,15],[74,19,91,17],[75,12,92,10,"Authorization"],[75,25,92,23],[75,27,92,25],[75,37,92,35,"authToken"],[75,46,92,44],[75,48,92,46],[76,12,93,10],[76,26,93,24],[76,28,93,26],[77,10,94,8],[78,8,95,6],[78,9,95,7],[78,10,95,8],[79,8,96,6],[79,12,96,10],[79,13,96,11,"response"],[79,21,96,19],[79,22,96,20,"ok"],[79,24,96,22],[79,26,96,24],[80,10,97,8],[80,16,97,14],[80,20,97,18,"Error"],[80,25,97,23],[80,26,97,24],[80,41,97,39],[80,42,97,40],[81,8,98,6],[82,8,99,6],[82,14,99,12,"userData"],[82,22,99,20],[82,25,99,23],[82,31,99,29,"safeParseJSON"],[82,44,99,42],[82,45,99,43,"response"],[82,53,99,51],[82,54,99,52],[83,8,100,6,"setUser"],[83,15,100,13],[83,16,100,14,"userData"],[83,24,100,22],[83,25,100,23],[84,6,101,4],[84,7,101,5],[84,8,101,6],[84,15,101,13,"error"],[84,20,101,18],[84,22,101,20],[85,8,102,6,"console"],[85,15,102,13],[85,16,102,14,"error"],[85,21,102,19],[85,22,102,20],[85,50,102,48],[85,52,102,50,"error"],[85,57,102,55],[85,58,102,56],[86,8,103,6],[86,14,103,12,"logout"],[86,20,103,18],[86,21,103,19],[86,22,103,20],[87,6,104,4],[88,4,105,2],[88,5,105,3],[88,7,105,5],[88,8,105,6,"logout"],[88,14,105,12],[88,15,105,13],[88,16,105,14],[89,4,107,2],[89,10,107,8,"loadStoredAuth"],[89,24,107,22],[89,27,107,25],[89,31,107,25,"useCallback"],[89,49,107,36],[89,51,107,37],[89,63,107,49],[90,6,108,4],[90,10,108,8],[91,8,109,6],[91,14,109,12,"storedToken"],[91,25,109,23],[91,28,109,26],[91,34,109,32,"AsyncStorage"],[91,55,109,44],[91,56,109,45,"getItem"],[91,63,109,52],[91,64,109,53],[91,76,109,65],[91,77,109,66],[92,8,110,6],[92,14,110,12,"storedUser"],[92,24,110,22],[92,27,110,25],[92,33,110,31,"AsyncStorage"],[92,54,110,43],[92,55,110,44,"getItem"],[92,62,110,51],[92,63,110,52],[92,74,110,63],[92,75,110,64],[93,8,112,6],[93,12,112,10,"storedToken"],[93,23,112,21],[93,27,112,25,"storedUser"],[93,37,112,35],[93,39,112,37],[94,10,113,8,"setToken"],[94,18,113,16],[94,19,113,17,"storedToken"],[94,30,113,28],[94,31,113,29],[95,10,114,8,"setUser"],[95,17,114,15],[95,18,114,16,"JSON"],[95,22,114,20],[95,23,114,21,"parse"],[95,28,114,26],[95,29,114,27,"storedUser"],[95,39,114,37],[95,40,114,38],[95,41,114,39],[97,10,116,8],[98,10,117,8],[98,16,117,14,"verifyToken"],[98,27,117,25],[98,28,117,26,"storedToken"],[98,39,117,37],[98,40,117,38],[99,8,118,6],[100,6,119,4],[100,7,119,5],[100,8,119,6],[100,15,119,13,"error"],[100,20,119,18],[100,22,119,20],[101,8,120,6,"console"],[101,15,120,13],[101,16,120,14,"error"],[101,21,120,19],[101,22,120,20],[101,50,120,48],[101,52,120,50,"error"],[101,57,120,55],[101,58,120,56],[102,8,121,6],[102,14,121,12,"logout"],[102,20,121,18],[102,21,121,19],[102,22,121,20],[103,6,122,4],[103,7,122,5],[103,16,122,14],[104,8,123,6,"setLoading"],[104,18,123,16],[104,19,123,17],[104,24,123,22],[104,25,123,23],[105,6,124,4],[106,4,125,2],[106,5,125,3],[106,7,125,5],[106,8,125,6,"verifyToken"],[106,19,125,17],[106,21,125,19,"logout"],[106,27,125,25],[106,28,125,26],[106,29,125,27],[108,4,127,2],[109,4,128,2],[109,8,128,2,"useEffect"],[109,24,128,11],[109,26,128,12],[109,32,128,18],[110,6,129,4,"loadStoredAuth"],[110,20,129,18],[110,21,129,19],[110,22,129,20],[111,4,130,2],[111,5,130,3],[111,7,130,5],[111,8,130,6,"loadStoredAuth"],[111,22,130,20],[111,23,130,21],[111,24,130,22],[113,4,132,2],[115,4,134,2],[115,10,134,8,"login"],[115,15,134,13],[115,18,134,16],[115,24,134,16,"login"],[115,25,134,23,"email"],[115,30,134,36],[115,32,134,38,"password"],[115,40,134,54],[115,45,134,59],[116,6,135,4],[116,10,135,8],[117,8,136,6],[117,14,136,12,"base"],[117,18,136,16],[117,21,136,19,"ensureBaseUrl"],[117,34,136,32],[117,35,136,33],[117,36,136,34],[118,8,137,6],[119,8,138,6],[119,14,138,12,"response"],[119,22,138,20],[119,25,138,23],[119,31,138,29,"fetch"],[119,36,138,34],[119,37,138,35],[119,40,138,38,"base"],[119,44,138,42],[119,57,138,55],[119,59,138,57],[120,10,139,8,"method"],[120,16,139,14],[120,18,139,16],[120,24,139,22],[121,10,140,8,"headers"],[121,17,140,15],[121,19,140,17],[122,12,141,10],[122,26,141,24],[122,28,141,26],[123,10,142,8],[123,11,142,9],[124,10,143,8,"body"],[124,14,143,12],[124,16,143,14,"JSON"],[124,20,143,18],[124,21,143,19,"stringify"],[124,30,143,28],[124,31,143,29],[125,12,143,31,"username"],[125,20,143,39],[125,22,143,41,"email"],[125,27,143,46],[126,12,143,48,"password"],[127,10,143,57],[127,11,143,58],[128,8,144,6],[128,9,144,7],[128,10,144,8],[129,8,146,6],[129,12,146,10,"data"],[129,16,146,19],[130,8,147,6],[130,12,147,10],[131,10,148,8,"data"],[131,14,148,12],[131,17,148,15],[131,23,148,21,"safeParseJSON"],[131,36,148,34],[131,37,148,35,"response"],[131,45,148,43],[131,46,148,44],[132,8,149,6],[132,9,149,7],[132,10,149,8],[132,17,149,15,"parseErr"],[132,25,149,28],[132,27,149,30],[133,10,150,8],[133,16,150,14],[133,20,150,18,"Error"],[133,25,150,23],[133,26,150,24,"parseErr"],[133,34,150,32],[133,35,150,33,"message"],[133,42,150,40],[133,46,150,44],[133,73,150,71],[133,74,150,72],[134,8,151,6],[135,8,153,6],[135,12,153,10],[135,13,153,11,"response"],[135,21,153,19],[135,22,153,20,"ok"],[135,24,153,22],[135,26,153,24],[136,10,154,8],[136,16,154,14],[136,20,154,18,"Error"],[136,25,154,23],[136,26,154,24,"data"],[136,30,154,28],[136,32,154,30,"detail"],[136,38,154,36],[136,42,154,40],[136,67,154,65],[136,68,154,66],[137,8,155,6],[139,8,157,6],[140,8,158,6],[140,14,158,12,"synthesizedUser"],[140,29,158,33],[140,32,158,36],[141,10,159,8,"id"],[141,12,159,10],[141,14,159,12,"data"],[141,18,159,16],[141,19,159,17,"user"],[141,23,159,21],[141,25,159,23,"id"],[141,27,159,25],[141,31,159,29,"email"],[141,36,159,34],[142,10,160,8,"email"],[142,15,160,13],[143,10,161,8,"name"],[143,14,161,12],[143,16,161,14,"data"],[143,20,161,18],[143,21,161,19,"user"],[143,25,161,23],[143,27,161,25,"name"],[143,31,161,29],[143,35,161,33,"email"],[143,40,161,38],[143,41,161,39,"split"],[143,46,161,44],[143,47,161,45],[143,50,161,48],[143,51,161,49],[143,52,161,50],[143,53,161,51],[143,54,161,52],[144,10,162,8,"has_gemini_key"],[144,24,162,22],[144,26,162,24,"data"],[144,30,162,28],[144,31,162,29,"user"],[144,35,162,33],[144,37,162,35,"has_gemini_key"],[144,51,162,49],[144,55,162,53],[145,8,163,6],[145,9,163,7],[146,8,165,6],[146,14,165,12,"AsyncStorage"],[146,35,165,24],[146,36,165,25,"setItem"],[146,43,165,32],[146,44,165,33],[146,56,165,45],[146,58,165,47,"data"],[146,62,165,51],[146,63,165,52,"access_token"],[146,75,165,64],[146,76,165,65],[147,8,166,6],[147,14,166,12,"AsyncStorage"],[147,35,166,24],[147,36,166,25,"setItem"],[147,43,166,32],[147,44,166,33],[147,55,166,44],[147,57,166,46,"JSON"],[147,61,166,50],[147,62,166,51,"stringify"],[147,71,166,60],[147,72,166,61,"synthesizedUser"],[147,87,166,76],[147,88,166,77],[147,89,166,78],[148,8,168,6,"setToken"],[148,16,168,14],[148,17,168,15,"data"],[148,21,168,19],[148,22,168,20,"access_token"],[148,34,168,32],[148,35,168,33],[149,8,169,6,"setUser"],[149,15,169,13],[149,16,169,14,"synthesizedUser"],[149,31,169,29],[149,32,169,30],[150,6,170,4],[150,7,170,5],[150,8,170,6],[150,15,170,13,"error"],[150,20,170,23],[150,22,170,25],[151,8,171,6],[151,14,171,12],[151,18,171,16,"Error"],[151,23,171,21],[151,24,171,22,"error"],[151,29,171,27],[151,30,171,28,"message"],[151,37,171,35],[151,41,171,39],[151,60,171,58],[151,61,171,59],[152,6,172,4],[153,4,173,2],[153,5,173,3],[154,4,175,2],[154,10,175,8,"register"],[154,18,175,16],[154,21,175,19],[154,27,175,19,"register"],[154,28,175,26,"email"],[154,33,175,39],[154,35,175,41,"password"],[154,43,175,57],[154,45,175,59,"name"],[154,49,175,71],[154,54,175,76],[155,6,176,4],[155,10,176,8],[156,8,177,6],[156,14,177,12,"base"],[156,18,177,16],[156,21,177,19,"ensureBaseUrl"],[156,34,177,32],[156,35,177,33],[156,36,177,34],[157,8,178,6],[158,8,179,6],[158,14,179,12,"response"],[158,22,179,20],[158,25,179,23],[158,31,179,29,"fetch"],[158,36,179,34],[158,37,179,35],[158,40,179,38,"base"],[158,44,179,42],[158,60,179,58],[158,62,179,60],[159,10,180,8,"method"],[159,16,180,14],[159,18,180,16],[159,24,180,22],[160,10,181,8,"headers"],[160,17,181,15],[160,19,181,17],[161,12,182,10],[161,26,182,24],[161,28,182,26],[162,10,183,8],[162,11,183,9],[163,10,184,8,"body"],[163,14,184,12],[163,16,184,14,"JSON"],[163,20,184,18],[163,21,184,19,"stringify"],[163,30,184,28],[163,31,184,29],[164,12,184,31,"username"],[164,20,184,39],[164,22,184,41,"name"],[164,26,184,45],[164,27,184,46,"trim"],[164,31,184,50],[164,32,184,51],[164,33,184,52],[164,37,184,56,"email"],[164,42,184,61],[164,43,184,62,"split"],[164,48,184,67],[164,49,184,68],[164,52,184,71],[164,53,184,72],[164,54,184,73],[164,55,184,74],[164,56,184,75],[165,12,184,77,"email"],[165,17,184,82],[166,12,184,84,"password"],[167,10,184,93],[167,11,184,94],[168,8,185,6],[168,9,185,7],[168,10,185,8],[169,8,187,6],[169,12,187,10,"data"],[169,16,187,19],[170,8,188,6],[170,12,188,10],[171,10,189,8,"data"],[171,14,189,12],[171,17,189,15],[171,23,189,21,"safeParseJSON"],[171,36,189,34],[171,37,189,35,"response"],[171,45,189,43],[171,46,189,44],[172,8,190,6],[172,9,190,7],[172,10,190,8],[172,17,190,15,"parseErr"],[172,25,190,28],[172,27,190,30],[173,10,191,8],[173,16,191,14],[173,20,191,18,"Error"],[173,25,191,23],[173,26,191,24,"parseErr"],[173,34,191,32],[173,35,191,33,"message"],[173,42,191,40],[173,46,191,44],[173,73,191,71],[173,74,191,72],[174,8,192,6],[175,8,194,6],[175,12,194,10],[175,13,194,11,"response"],[175,21,194,19],[175,22,194,20,"ok"],[175,24,194,22],[175,26,194,24],[176,10,195,8],[176,16,195,14],[176,20,195,18,"Error"],[176,25,195,23],[176,26,195,24,"data"],[176,30,195,28],[176,32,195,30,"detail"],[176,38,195,36],[176,42,195,40],[176,64,195,62],[176,65,195,63],[177,8,196,6],[178,8,198,6],[178,14,198,12,"synthesizedUser"],[178,29,198,33],[178,32,198,36],[179,10,199,8,"id"],[179,12,199,10],[179,14,199,12,"data"],[179,18,199,16],[179,19,199,17,"user"],[179,23,199,21],[179,25,199,23,"id"],[179,27,199,25],[179,31,199,29,"email"],[179,36,199,34],[180,10,200,8,"email"],[180,15,200,13],[181,10,201,8,"name"],[181,14,201,12],[181,16,201,14,"name"],[181,20,201,18],[181,24,201,22,"email"],[181,29,201,27],[181,30,201,28,"split"],[181,35,201,33],[181,36,201,34],[181,39,201,37],[181,40,201,38],[181,41,201,39],[181,42,201,40],[181,43,201,41],[182,10,202,8,"has_gemini_key"],[182,24,202,22],[182,26,202,24],[183,8,203,6],[183,9,203,7],[184,8,205,6],[184,14,205,12,"AsyncStorage"],[184,35,205,24],[184,36,205,25,"setItem"],[184,43,205,32],[184,44,205,33],[184,56,205,45],[184,58,205,47,"data"],[184,62,205,51],[184,63,205,52,"access_token"],[184,75,205,64],[184,76,205,65],[185,8,206,6],[185,14,206,12,"AsyncStorage"],[185,35,206,24],[185,36,206,25,"setItem"],[185,43,206,32],[185,44,206,33],[185,55,206,44],[185,57,206,46,"JSON"],[185,61,206,50],[185,62,206,51,"stringify"],[185,71,206,60],[185,72,206,61,"synthesizedUser"],[185,87,206,76],[185,88,206,77],[185,89,206,78],[186,8,208,6,"setToken"],[186,16,208,14],[186,17,208,15,"data"],[186,21,208,19],[186,22,208,20,"access_token"],[186,34,208,32],[186,35,208,33],[187,8,209,6,"setUser"],[187,15,209,13],[187,16,209,14,"synthesizedUser"],[187,31,209,29],[187,32,209,30],[188,6,210,4],[188,7,210,5],[188,8,210,6],[188,15,210,13,"error"],[188,20,210,23],[188,22,210,25],[189,8,211,6],[189,14,211,12],[189,18,211,16,"Error"],[189,23,211,21],[189,24,211,22,"error"],[189,29,211,27],[189,30,211,28,"message"],[189,37,211,35],[189,41,211,39],[189,60,211,58],[189,61,211,59],[190,6,212,4],[191,4,213,2],[191,5,213,3],[193,4,215,2],[195,4,217,2],[195,10,217,8,"updateUser"],[195,20,217,18],[195,23,217,22,"userData"],[195,31,217,45],[195,35,217,50],[196,6,218,4],[196,10,218,8,"user"],[196,14,218,12],[196,16,218,14],[197,8,219,6],[197,14,219,12,"updatedUser"],[197,25,219,23],[197,28,219,26],[198,10,219,28],[198,13,219,31,"user"],[198,17,219,35],[199,10,219,37],[199,13,219,40,"userData"],[200,8,219,49],[200,9,219,50],[201,8,220,6,"setUser"],[201,15,220,13],[201,16,220,14,"updatedUser"],[201,27,220,25],[201,28,220,26],[202,8,221,6,"AsyncStorage"],[202,29,221,18],[202,30,221,19,"setItem"],[202,37,221,26],[202,38,221,27],[202,49,221,38],[202,51,221,40,"JSON"],[202,55,221,44],[202,56,221,45,"stringify"],[202,65,221,54],[202,66,221,55,"updatedUser"],[202,77,221,66],[202,78,221,67],[202,79,221,68],[203,6,222,4],[204,4,223,2],[204,5,223,3],[205,4,225,2],[205,10,225,8,"value"],[205,15,225,30],[205,18,225,33],[206,6,226,4,"user"],[206,10,226,8],[207,6,227,4,"token"],[207,11,227,9],[208,6,228,4,"loading"],[208,13,228,11],[209,6,229,4,"login"],[209,11,229,9],[210,6,230,4,"register"],[210,14,230,12],[211,6,231,4,"logout"],[211,12,231,10],[212,6,232,4,"updateUser"],[213,4,233,2],[213,5,233,3],[214,4,235,2],[214,24,236,4],[214,28,236,4,"_jsxDevRuntime"],[214,42,236,4],[214,43,236,4,"jsxDEV"],[214,49,236,4],[214,51,236,5,"AuthContext"],[214,62,236,16],[214,63,236,17,"Provider"],[214,71,236,25],[215,6,236,26,"value"],[215,11,236,31],[215,13,236,33,"value"],[215,18,236,39],[216,6,236,39,"children"],[216,14,236,39],[216,16,237,7,"children"],[217,4,237,15],[218,6,237,15,"fileName"],[218,14,237,15],[218,16,237,15,"_jsxFileName"],[218,28,237,15],[219,6,237,15,"lineNumber"],[219,16,237,15],[220,6,237,15,"columnNumber"],[220,18,237,15],[221,4,237,15],[221,11,238,26],[221,12,238,27],[222,2,240,0],[224,2,242,0],[225,2,243,7],[225,11,243,16,"useAuth"],[225,18,243,23,"useAuth"],[225,19,243,23],[225,21,243,26],[226,4,244,2],[226,10,244,8,"context"],[226,17,244,15],[226,20,244,18],[226,24,244,18,"useContext"],[226,41,244,28],[226,43,244,29,"AuthContext"],[226,54,244,40],[226,55,244,41],[227,4,245,2],[227,8,245,6,"context"],[227,15,245,13],[227,20,245,18,"undefined"],[227,29,245,27],[227,31,245,29],[228,6,246,4],[228,12,246,10],[228,16,246,14,"Error"],[228,21,246,19],[228,22,246,20],[228,67,246,65],[228,68,246,66],[229,4,247,2],[230,4,248,2],[230,11,248,9,"context"],[230,18,248,16],[231,2,249,0],[232,0,249,1],[232,3]],"functionMap":{"names":["<global>","ensureBaseUrl","safeParseJSON","AuthProvider","logout","verifyToken","loadStoredAuth","useEffect$argument_0","login","register","updateUser","useAuth"],"mappings":"AAA;ACoC;CDO;AEE;CFsB;OGG;6BCK;GDS;kCEE;GFkB;qCGE;GHkB;YIG;GJE;gBKI;GLuC;mBME;GNsC;qBOI;GPM;CHiB;OWG"}},"type":"js/module"}]}